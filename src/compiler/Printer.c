/* File generated by the BNF Converter (bnfc 2.9.6.1). */

/*** Pretty Printer and Abstract Syntax Viewer ***/

#include "Printer.h"
#include <ctype.h>  /* isspace */
#include <stddef.h> /* size_t */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define INDENT_WIDTH 2

int    _n_;
char  *buf_;
size_t cur_;
size_t buf_size;

/* You may wish to change the renderC functions */
void renderC( Char c )
{
   if( c == '{' )
   {
      onEmptyLine();
      bufAppendC( c );
      _n_ = _n_ + INDENT_WIDTH;
      bufAppendC( '\n' );
      indent();
   }
   else if( c == '(' || c == '[' )
      bufAppendC( c );
   else if( c == ')' || c == ']' )
   {
      removeTrailingWhitespace();
      bufAppendC( c );
      bufAppendC( ' ' );
   }
   else if( c == '}' )
   {
      _n_ = _n_ - INDENT_WIDTH;
      onEmptyLine();
      bufAppendC( c );
      bufAppendC( '\n' );
      indent();
   }
   else if( c == ',' )
   {
      removeTrailingWhitespace();
      bufAppendC( c );
      bufAppendC( ' ' );
   }
   else if( c == ';' )
   {
      removeTrailingWhitespace();
      bufAppendC( c );
      bufAppendC( '\n' );
      indent();
   }
   else if( c == ' ' )
      bufAppendC( c );
   else if( c == 0 )
      return;
   else
   {
      bufAppendC( c );
      bufAppendC( ' ' );
   }
}

int allIsSpace( String s )
{
   char c;
   while( ( c = *s++ ) )
      if( !isspace( c ) )
         return 0;
   return 1;
}

void renderS( String s )
{
   if( *s ) /* s[0] != '\0', string s not empty */
   {
      if( allIsSpace( s ) )
      {
         backup();
         bufAppendS( s );
      }
      else
      {
         bufAppendS( s );
         bufAppendC( ' ' );
      }
   }
}

void indent( void )
{
   int n = _n_;
   while( --n >= 0 )
      bufAppendC( ' ' );
}

void backup( void )
{
   if( cur_ && buf_[ cur_ - 1 ] == ' ' )
      buf_[ --cur_ ] = 0;
}

void removeTrailingSpaces()
{
   while( cur_ && buf_[ cur_ - 1 ] == ' ' )
      --cur_;
   buf_[ cur_ ] = 0;
}

void removeTrailingWhitespace()
{
   while( cur_ && ( buf_[ cur_ - 1 ] == ' ' || buf_[ cur_ - 1 ] == '\n' ) )
      --cur_;
   buf_[ cur_ ] = 0;
}

void onEmptyLine()
{
   removeTrailingSpaces();
   if( cur_ && buf_[ cur_ - 1 ] != '\n' )
      bufAppendC( '\n' );
   indent();
}
char *printProgram( Program p )
{
   _n_ = 0;
   bufReset();
   ppProgram( p, 0 );
   return buf_;
}
char *showProgram( Program p )
{
   _n_ = 0;
   bufReset();
   shProgram( p );
   return buf_;
}
void ppProgram( Program p, int _i_ )
{
   switch( p->kind )
   {
   case is_ProgramRoot:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLeadingEols( p->u.programRoot_.leadingeols_, 0 );
      ppTopDecls( p->u.programRoot_.topdecls_, 0 );
      ppDefs( p->u.programRoot_.defs_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing Program!\n" );
      exit( 1 );
   }
}

void ppLeadingEols( LeadingEols p, int _i_ )
{
   switch( p->kind )
   {
   case is_LeadingEolsEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing LeadingEols!\n" );
      exit( 1 );
   }
}

void ppTopDecls( TopDecls p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListTopDeclEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListTopDeclCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppTopDecl( p->u.listTopDeclCons_.topdecl_, 0 );
      ppTopDecls( p->u.listTopDeclCons_.topdecls_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListTopDeclLine:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.listTopDeclLine_.lineeol_, 0 );
      ppTopDecls( p->u.listTopDeclLine_.topdecls_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing TopDecls!\n" );
      exit( 1 );
   }
}

void ppTopDecl( TopDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_TopDeclEnum:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppEnumDecl( p->u.topDeclEnum_.enumdecl_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_TopDeclClass:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppClassDecl( p->u.topDeclClass_.classdecl_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_TopDeclStruct:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStructDecl( p->u.topDeclStruct_.structdecl_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_TopDeclPreproc:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppPreprocDecl( p->u.topDeclPreproc_.preprocdecl_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_TopDeclStatic:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStaticDecl( p->u.topDeclStatic_.staticdecl_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing TopDecl!\n" );
      exit( 1 );
   }
}

void ppDefs( Defs p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListDefSingle:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppDef( p->u.listDefSingle_.def_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListDefCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppDef( p->u.listDefCons_.def_, 0 );
      ppDefs( p->u.listDefCons_.defs_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing Defs!\n" );
      exit( 1 );
   }
}

void ppPreprocDecl( PreprocDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_PreprocDeclLine:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.preprocDeclLine_.preprocline_, 0 );
      ppStmtEnd( p->u.preprocDeclLine_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing PreprocDecl!\n" );
      exit( 1 );
   }
}

void ppParamListOpt( ParamListOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptParamListEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptParamListSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.optParamListSome_.ident_, 0 );
      ppParamListTail( p->u.optParamListSome_.paramlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ParamListOpt!\n" );
      exit( 1 );
   }
}

void ppParamListTail( ParamListTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListParamTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListParamTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppIdent( p->u.listParamTailCons_.ident_, 0 );
      ppParamListTail( p->u.listParamTailCons_.paramlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ParamListTail!\n" );
      exit( 1 );
   }
}

void ppStmt( Stmt p, int _i_ )
{
   switch( p->kind )
   {
   case is_StmtAssignInl:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignInl_.lhs_, 0 );
      renderS( ":=" );
      ppExpr( p->u.stmtAssignInl_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignInl_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtAssignAdd:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignAdd_.lhs_, 0 );
      renderS( "+=" );
      ppExpr( p->u.stmtAssignAdd_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignAdd_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtAssignSub:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignSub_.lhs_, 0 );
      renderS( "-=" );
      ppExpr( p->u.stmtAssignSub_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignSub_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtAssignMul:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignMul_.lhs_, 0 );
      renderS( "*=" );
      ppExpr( p->u.stmtAssignMul_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignMul_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtAssignDiv:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignDiv_.lhs_, 0 );
      renderS( "/=" );
      ppExpr( p->u.stmtAssignDiv_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignDiv_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtAssignMod:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignMod_.lhs_, 0 );
      renderS( "%=" );
      ppExpr( p->u.stmtAssignMod_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignMod_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtAssignPow:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignPow_.lhs_, 0 );
      renderS( "^=" );
      ppExpr( p->u.stmtAssignPow_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignPow_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtAssignPow2:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLHS( p->u.stmtAssignPow2_.lhs_, 0 );
      renderS( "**=" );
      ppExpr( p->u.stmtAssignPow2_.expr_, 0 );
      ppStmtEnd( p->u.stmtAssignPow2_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtCall:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppCallExpr( p->u.stmtCall_.callexpr_, 0 );
      ppStmtEnd( p->u.stmtCall_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtIf:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "if" );
      ppIfCond( p->u.stmtIf_.ifcond_, 0 );
      ppIdent( p->u.stmtIf_.lineeol_, 0 );
      ppStmtList( p->u.stmtIf_.stmtlist_, 0 );
      ppElseIfList( p->u.stmtIf_.elseiflist_, 0 );
      ppElseOpt( p->u.stmtIf_.elseopt_, 0 );
      ppEndIf( p->u.stmtIf_.endif_, 0 );
      ppStmtEnd( p->u.stmtIf_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtDoWhile:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppDoOpt( p->u.stmtDoWhile_.doopt_, 0 );
      renderS( "while" );
      ppWhileCond( p->u.stmtDoWhile_.whilecond_, 0 );
      ppIdent( p->u.stmtDoWhile_.lineeol_, 0 );
      ppStmtList( p->u.stmtDoWhile_.stmtlist_, 0 );
      ppEndDo( p->u.stmtDoWhile_.enddo_, 0 );
      ppStmtEnd( p->u.stmtDoWhile_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtFor:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "for" );
      ppIdent( p->u.stmtFor_.ident_, 0 );
      renderS( ":=" );
      ppExpr( p->u.stmtFor_.expr_1, 0 );
      renderS( "to" );
      ppExpr( p->u.stmtFor_.expr_2, 0 );
      ppStepOpt( p->u.stmtFor_.stepopt_, 0 );
      ppIdent( p->u.stmtFor_.lineeol_, 0 );
      ppStmtList( p->u.stmtFor_.stmtlist_, 0 );
      ppEndFor( p->u.stmtFor_.endfor_, 0 );
      ppStmtEnd( p->u.stmtFor_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtForEach:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "for" );
      renderS( "each" );
      ppForEachVars( p->u.stmtForEach_.foreachvars_, 0 );
      renderS( "in" );
      ppForEachExprs( p->u.stmtForEach_.foreachexprs_, 0 );
      ppForEachDescOpt( p->u.stmtForEach_.foreachdescopt_, 0 );
      ppIdent( p->u.stmtForEach_.lineeol_, 0 );
      ppStmtList( p->u.stmtForEach_.stmtlist_, 0 );
      ppEndFor( p->u.stmtForEach_.endfor_, 0 );
      ppStmtEnd( p->u.stmtForEach_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtSwitch:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "switch" );
      ppSwitchCond( p->u.stmtSwitch_.switchcond_, 0 );
      ppIdent( p->u.stmtSwitch_.lineeol_, 0 );
      ppCaseList( p->u.stmtSwitch_.caselist_, 0 );
      ppOtherwiseOpt( p->u.stmtSwitch_.otherwiseopt_, 0 );
      ppEndSwitch( p->u.stmtSwitch_.endswitch_, 0 );
      ppStmtEnd( p->u.stmtSwitch_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtDoCase:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "do" );
      renderS( "case" );
      ppIdent( p->u.stmtDoCase_.lineeol_, 0 );
      ppCaseCondList( p->u.stmtDoCase_.casecondlist_, 0 );
      ppOtherwiseOpt( p->u.stmtDoCase_.otherwiseopt_, 0 );
      ppEndCase( p->u.stmtDoCase_.endcase_, 0 );
      ppStmtEnd( p->u.stmtDoCase_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtSequence:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "begin" );
      renderS( "sequence" );
      ppIdent( p->u.stmtSequence_.lineeol_, 0 );
      ppStmtList( p->u.stmtSequence_.stmtlist_, 0 );
      ppRecoverOpt( p->u.stmtSequence_.recoveropt_, 0 );
      ppEndSequence( p->u.stmtSequence_.endsequence_, 0 );
      ppStmtEnd( p->u.stmtSequence_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtBreak:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "break" );
      ppBreakExprOpt( p->u.stmtBreak_.breakexpropt_, 0 );
      ppStmtEnd( p->u.stmtBreak_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtExit:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "exit" );
      ppStmtEnd( p->u.stmtExit_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtLoop:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "loop" );
      ppStmtEnd( p->u.stmtLoop_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtReturn:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "return" );
      ppReturnExprOpt( p->u.stmtReturn_.returnexpropt_, 0 );
      ppStmtEnd( p->u.stmtReturn_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StmtStructDecl:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStructDecl( p->u.stmtStructDecl_.structdecl_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing Stmt!\n" );
      exit( 1 );
   }
}

void ppReturnExprOpt( ReturnExprOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_ReturnExprOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ReturnExprOptSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.returnExprOptSome_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ReturnExprOpt!\n" );
      exit( 1 );
   }
}

void ppStmtList( StmtList p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListStmtEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListStmtCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStmt( p->u.listStmtCons_.stmt_, 0 );
      ppStmtList( p->u.listStmtCons_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListStmtLine:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.listStmtLine_.lineeol_, 0 );
      ppStmtList( p->u.listStmtLine_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StmtList!\n" );
      exit( 1 );
   }
}

void ppStmtListNonEmpty( StmtListNonEmpty p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListStmtNonEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStmt( p->u.listStmtNonEmpty_.stmt_, 0 );
      ppStmtList( p->u.listStmtNonEmpty_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StmtListNonEmpty!\n" );
      exit( 1 );
   }
}

void ppElseIfList( ElseIfList p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListElseIfEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListElseIfCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppElseIf( p->u.listElseIfCons_.elseif_, 0 );
      ppElseIfList( p->u.listElseIfCons_.elseiflist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ElseIfList!\n" );
      exit( 1 );
   }
}

void ppElseIf( ElseIf p, int _i_ )
{
   switch( p->kind )
   {
   case is_ElseIfClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "elseif" );
      ppIfCond( p->u.elseIfClause_.ifcond_, 0 );
      ppIdent( p->u.elseIfClause_.lineeol_, 0 );
      ppStmtList( p->u.elseIfClause_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ElseIf!\n" );
      exit( 1 );
   }
}

void ppElseOpt( ElseOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptElseEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptElseSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "else" );
      ppIdent( p->u.optElseSome_.lineeol_, 0 );
      ppStmtList( p->u.optElseSome_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ElseOpt!\n" );
      exit( 1 );
   }
}

void ppIfCond( IfCond p, int _i_ )
{
   switch( p->kind )
   {
   case is_IfCondExpr:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.ifCondExpr_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing IfCond!\n" );
      exit( 1 );
   }
}

void ppEndIf( EndIf p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndIfWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endif" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndIfClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndIfOpt( p->u.endIfClause_.endifopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndIf!\n" );
      exit( 1 );
   }
}

void ppEndIfOpt( EndIfOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndIfOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndIfOptIf:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "if" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndIfOpt!\n" );
      exit( 1 );
   }
}

void ppDoOpt( DoOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_DoOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_DoOptDo:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "do" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing DoOpt!\n" );
      exit( 1 );
   }
}

void ppWhileCond( WhileCond p, int _i_ )
{
   switch( p->kind )
   {
   case is_WhileCondExpr:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.whileCondExpr_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing WhileCond!\n" );
      exit( 1 );
   }
}

void ppEndDo( EndDo p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndDoWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "enddo" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndWhileWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endwhile" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndDoClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndDoOpt( p->u.endDoClause_.enddoopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndDo!\n" );
      exit( 1 );
   }
}

void ppEndDoOpt( EndDoOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndDoOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndDoOptDo:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "do" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndDoOptWhile:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "while" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndDoOpt!\n" );
      exit( 1 );
   }
}

void ppEndCase( EndCase p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndCaseWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endcase" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndCaseClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndCaseOpt( p->u.endCaseClause_.endcaseopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndCase!\n" );
      exit( 1 );
   }
}

void ppEndCaseOpt( EndCaseOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndCaseOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndCaseOptCase:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "case" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndCaseOpt!\n" );
      exit( 1 );
   }
}

void ppStepOpt( StepOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptStepEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptStepSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "step" );
      ppExpr( p->u.optStepSome_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StepOpt!\n" );
      exit( 1 );
   }
}

void ppEndFor( EndFor p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndForWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endfor" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndForClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndForOpt( p->u.endForClause_.endforopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndFor!\n" );
      exit( 1 );
   }
}

void ppEndForOpt( EndForOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndForOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndForOptFor:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "for" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndForOpt!\n" );
      exit( 1 );
   }
}

void ppForEachVars( ForEachVars p, int _i_ )
{
   switch( p->kind )
   {
   case is_ForEachVarsMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.forEachVarsMain_.ident_, 0 );
      ppForEachVarsTail( p->u.forEachVarsMain_.foreachvarstail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ForEachVars!\n" );
      exit( 1 );
   }
}

void ppForEachVarsTail( ForEachVarsTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListForEachVarsTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListForEachVarsTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppIdent( p->u.listForEachVarsTailCons_.ident_, 0 );
      ppForEachVarsTail( p->u.listForEachVarsTailCons_.foreachvarstail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ForEachVarsTail!\n" );
      exit( 1 );
   }
}

void ppForEachExprs( ForEachExprs p, int _i_ )
{
   switch( p->kind )
   {
   case is_ForEachExprsMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.forEachExprsMain_.expr_, 0 );
      ppForEachExprsTail( p->u.forEachExprsMain_.foreachexprstail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ForEachExprs!\n" );
      exit( 1 );
   }
}

void ppForEachExprsTail( ForEachExprsTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListForEachExprsTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListForEachExprsTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppExpr( p->u.listForEachExprsTailCons_.expr_, 0 );
      ppForEachExprsTail( p->u.listForEachExprsTailCons_.foreachexprstail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ForEachExprsTail!\n" );
      exit( 1 );
   }
}

void ppForEachDescOpt( ForEachDescOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_ForEachDescOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ForEachDescOptSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "descend" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ForEachDescOpt!\n" );
      exit( 1 );
   }
}

void ppCaseList( CaseList p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListCaseEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListCaseCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppCaseClause( p->u.listCaseCons_.caseclause_, 0 );
      ppCaseList( p->u.listCaseCons_.caselist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing CaseList!\n" );
      exit( 1 );
   }
}

void ppCaseClause( CaseClause p, int _i_ )
{
   switch( p->kind )
   {
   case is_CaseClauseItem:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "case" );
      ppCaseValue( p->u.caseClauseItem_.casevalue_, 0 );
      ppIdent( p->u.caseClauseItem_.lineeol_, 0 );
      ppStmtList( p->u.caseClauseItem_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing CaseClause!\n" );
      exit( 1 );
   }
}

void ppCaseCondList( CaseCondList p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListCaseCondEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListCaseCondCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppCaseCondClause( p->u.listCaseCondCons_.casecondclause_, 0 );
      ppCaseCondList( p->u.listCaseCondCons_.casecondlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing CaseCondList!\n" );
      exit( 1 );
   }
}

void ppCaseCondClause( CaseCondClause p, int _i_ )
{
   switch( p->kind )
   {
   case is_CaseCondClauseItem:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "case" );
      ppExpr( p->u.caseCondClauseItem_.expr_, 0 );
      ppIdent( p->u.caseCondClauseItem_.lineeol_, 0 );
      ppStmtList( p->u.caseCondClauseItem_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing CaseCondClause!\n" );
      exit( 1 );
   }
}

void ppOtherwiseOpt( OtherwiseOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptOtherwiseEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptOtherwiseSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "otherwise" );
      ppIdent( p->u.optOtherwiseSome_.lineeol_, 0 );
      ppStmtList( p->u.optOtherwiseSome_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing OtherwiseOpt!\n" );
      exit( 1 );
   }
}

void ppBreakExprOpt( BreakExprOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_BreakExprOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_BreakExprOptSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.breakExprOptSome_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing BreakExprOpt!\n" );
      exit( 1 );
   }
}

void ppRecoverOpt( RecoverOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_RecoverOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_RecoverOptSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "recover" );
      ppRecoverUsingOpt( p->u.recoverOptSome_.recoverusingopt_, 0 );
      ppIdent( p->u.recoverOptSome_.lineeol_, 0 );
      ppStmtList( p->u.recoverOptSome_.stmtlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing RecoverOpt!\n" );
      exit( 1 );
   }
}

void ppRecoverUsingOpt( RecoverUsingOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_RecoverUsingOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_RecoverUsingOptSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "using" );
      ppIdent( p->u.recoverUsingOptSome_.ident_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing RecoverUsingOpt!\n" );
      exit( 1 );
   }
}

void ppEndSequence( EndSequence p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndSequenceWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endsequence" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndSequenceClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndSequenceOpt( p->u.endSequenceClause_.endsequenceopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndSequence!\n" );
      exit( 1 );
   }
}

void ppEndSequenceOpt( EndSequenceOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndSequenceOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndSequenceOptSeq:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "sequence" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndSequenceOpt!\n" );
      exit( 1 );
   }
}

void ppSwitchCond( SwitchCond p, int _i_ )
{
   switch( p->kind )
   {
   case is_SwitchCondExpr:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.switchCondExpr_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing SwitchCond!\n" );
      exit( 1 );
   }
}

void ppEndSwitch( EndSwitch p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndSwitchWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endswitch" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndSwitchClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndSwitchOpt( p->u.endSwitchClause_.endswitchopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndSwitch!\n" );
      exit( 1 );
   }
}

void ppEndSwitchOpt( EndSwitchOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndSwitchOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndSwitchOptSwitch:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "switch" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndSwitchOpt!\n" );
      exit( 1 );
   }
}

void ppEndStruct( EndStruct p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndStructWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endstruct" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndStructClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndStructOpt( p->u.endStructClause_.endstructopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndStruct!\n" );
      exit( 1 );
   }
}

void ppEndStructOpt( EndStructOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndStructOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndStructOptStruct:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "struct" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndStructOpt!\n" );
      exit( 1 );
   }
}

void ppEndClass( EndClass p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndClassWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endclass" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndClassClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndClassOpt( p->u.endClassClause_.endclassopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndClass!\n" );
      exit( 1 );
   }
}

void ppEndClassOpt( EndClassOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndClassOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndClassOptClass:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "class" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndClassOpt!\n" );
      exit( 1 );
   }
}

void ppEndEnum( EndEnum p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndEnumWord:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "endenum" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndEnumClause:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "end" );
      ppEndEnumOpt( p->u.endEnumClause_.endenumopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndEnum!\n" );
      exit( 1 );
   }
}

void ppEndEnumOpt( EndEnumOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_EndEnumOptEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EndEnumOptEnum:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "enum" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EndEnumOpt!\n" );
      exit( 1 );
   }
}

void ppCaseValue( CaseValue p, int _i_ )
{
   switch( p->kind )
   {
   case is_CaseValueInt:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.caseValueInt_.intlit_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_CaseValueStr:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppNapis( p->u.caseValueStr_.napis_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing CaseValue!\n" );
      exit( 1 );
   }
}

void ppStmtEnd( StmtEnd p, int _i_ )
{
   switch( p->kind )
   {
   case is_StmtEndLine:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.stmtEndLine_.lineeol_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StmtEnd!\n" );
      exit( 1 );
   }
}

void ppEnumDecl( EnumDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_EnumDeclNamed:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "enum" );
      ppIdent( p->u.enumDeclNamed_.ident_, 0 );
      ppIdent( p->u.enumDeclNamed_.lineeol_, 0 );
      ppEnumListOpt( p->u.enumDeclNamed_.enumlistopt_, 0 );
      ppEndEnum( p->u.enumDeclNamed_.endenum_, 0 );
      ppStmtEnd( p->u.enumDeclNamed_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EnumDeclAnon:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "enum" );
      ppIdent( p->u.enumDeclAnon_.lineeol_, 0 );
      ppEnumListOpt( p->u.enumDeclAnon_.enumlistopt_, 0 );
      ppEndEnum( p->u.enumDeclAnon_.endenum_, 0 );
      ppStmtEnd( p->u.enumDeclAnon_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EnumDecl!\n" );
      exit( 1 );
   }
}

void ppEnumListOpt( EnumListOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptEnumListEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptEnumListSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppEnumItem( p->u.optEnumListSome_.enumitem_, 0 );
      ppEnumListTail( p->u.optEnumListSome_.enumlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EnumListOpt!\n" );
      exit( 1 );
   }
}

void ppEnumListTail( EnumListTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListEnumTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListEnumTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppEnumSep( p->u.listEnumTailCons_.enumsep_, 0 );
      ppEnumItem( p->u.listEnumTailCons_.enumitem_, 0 );
      ppEnumListTail( p->u.listEnumTailCons_.enumlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListEnumTailSep:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppEnumSep( p->u.listEnumTailSep_.enumsep_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EnumListTail!\n" );
      exit( 1 );
   }
}

void ppEnumSep( EnumSep p, int _i_ )
{
   switch( p->kind )
   {
   case is_EnumSepComma:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppLineEolOpt( p->u.enumSepComma_.lineeolopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_EnumSepLine:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.enumSepLine_.lineeol_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EnumSep!\n" );
      exit( 1 );
   }
}

void ppEnumItem( EnumItem p, int _i_ )
{
   switch( p->kind )
   {
   case is_EnumItemDecl:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.enumItemDecl_.ident_, 0 );
      ppEnumValueOpt( p->u.enumItemDecl_.enumvalueopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EnumItem!\n" );
      exit( 1 );
   }
}

void ppEnumValueOpt( EnumValueOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptEnumValueEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptEnumValueSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( ":=" );
      ppIdent( p->u.optEnumValueSome_.intlit_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing EnumValueOpt!\n" );
      exit( 1 );
   }
}

void ppLineEolOpt( LineEolOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptLineEolEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptLineEolSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.optLineEolSome_.lineeol_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing LineEolOpt!\n" );
      exit( 1 );
   }
}

void ppStructDecl( StructDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_StructDeclMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "struct" );
      ppIdent( p->u.structDeclMain_.ident_, 0 );
      ppIdent( p->u.structDeclMain_.lineeol_, 0 );
      ppStructBody( p->u.structDeclMain_.structbody_, 0 );
      ppEndStruct( p->u.structDeclMain_.endstruct_, 0 );
      ppStmtEnd( p->u.structDeclMain_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StructDecl!\n" );
      exit( 1 );
   }
}

void ppStructBody( StructBody p, int _i_ )
{
   switch( p->kind )
   {
   case is_StructBodyEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StructBodyCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStructMember( p->u.structBodyCons_.structmember_, 0 );
      ppStructBody( p->u.structBodyCons_.structbody_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StructBody!\n" );
      exit( 1 );
   }
}

void ppStructMember( StructMember p, int _i_ )
{
   switch( p->kind )
   {
   case is_StructMemberVar:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "var" );
      ppVarList( p->u.structMemberVar_.varlist_, 0 );
      ppIdent( p->u.structMemberVar_.lineeol_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StructMember!\n" );
      exit( 1 );
   }
}

void ppFieldInitList( FieldInitList p, int _i_ )
{
   switch( p->kind )
   {
   case is_FieldInitListSingle:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppFieldInit( p->u.fieldInitListSingle_.fieldinit_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_FieldInitListCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppFieldInit( p->u.fieldInitListCons_.fieldinit_, 0 );
      renderC( ',' );
      ppFieldInitList( p->u.fieldInitListCons_.fieldinitlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing FieldInitList!\n" );
      exit( 1 );
   }
}

void ppFieldInit( FieldInit p, int _i_ )
{
   switch( p->kind )
   {
   case is_FieldInitItem:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.fieldInitItem_.ident_, 0 );
      renderS( ":=" );
      ppExpr( p->u.fieldInitItem_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing FieldInit!\n" );
      exit( 1 );
   }
}

void ppStaticDecl( StaticDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_StaticStructDecl:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "static" );
      renderS( "struct" );
      ppIdent( p->u.staticStructDecl_.ident_, 0 );
      ppIdentInitList( p->u.staticStructDecl_.identinitlist_, 0 );
      ppStmtEnd( p->u.staticStructDecl_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StaticDeclItem:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "static" );
      ppStaticItemList( p->u.staticDeclItem_.staticitemlist_, 0 );
      ppStmtEnd( p->u.staticDeclItem_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticDecl!\n" );
      exit( 1 );
   }
}

void ppClassDecl( ClassDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_ClassDeclMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppCreateOpt( p->u.classDeclMain_.createopt_, 0 );
      renderS( "class" );
      ppClassName( p->u.classDeclMain_.classname_, 0 );
      ppInheritOpt( p->u.classDeclMain_.inheritopt_, 0 );
      ppStaticClassOpt( p->u.classDeclMain_.staticclassopt_, 0 );
      ppIdent( p->u.classDeclMain_.lineeol_, 0 );
      ppClassBody( p->u.classDeclMain_.classbody_, 0 );
      ppEndClass( p->u.classDeclMain_.endclass_, 0 );
      ppStmtEnd( p->u.classDeclMain_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ClassDecl!\n" );
      exit( 1 );
   }
}

void ppCreateOpt( CreateOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptCreateEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptCreateSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "create" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing CreateOpt!\n" );
      exit( 1 );
   }
}

void ppClassName( ClassName p, int _i_ )
{
   switch( p->kind )
   {
   case is_ClassNameIdent:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.classNameIdent_.ident_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ClassName!\n" );
      exit( 1 );
   }
}

void ppInheritOpt( InheritOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptInheritEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptInheritSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppInheritKeyword( p->u.optInheritSome_.inheritkeyword_, 0 );
      ppClassName( p->u.optInheritSome_.classname_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing InheritOpt!\n" );
      exit( 1 );
   }
}

void ppInheritKeyword( InheritKeyword p, int _i_ )
{
   switch( p->kind )
   {
   case is_InheritFrom:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "from" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_InheritInherit:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "inherit" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing InheritKeyword!\n" );
      exit( 1 );
   }
}

void ppStaticClassOpt( StaticClassOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptStaticClassEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptStaticClassSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "static" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticClassOpt!\n" );
      exit( 1 );
   }
}

void ppClassBody( ClassBody p, int _i_ )
{
   switch( p->kind )
   {
   case is_ClassBodyEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ClassBodyCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppClassMember( p->u.classBodyCons_.classmember_, 0 );
      ppClassBody( p->u.classBodyCons_.classbody_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ClassBody!\n" );
      exit( 1 );
   }
}

void ppClassMember( ClassMember p, int _i_ )
{
   switch( p->kind )
   {
   case is_ClassMemberVisibility:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppVisibilityScope( p->u.classMemberVisibility_.visibilityscope_, 0 );
      ppIdent( p->u.classMemberVisibility_.lineeol_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ClassMemberVar:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "var" );
      ppVarList( p->u.classMemberVar_.varlist_, 0 );
      ppIdent( p->u.classMemberVar_.lineeol_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ClassMemberMethod:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "method" );
      ppIdent( p->u.classMemberMethod_.ident_, 0 );
      ppMethodParamsOpt( p->u.classMemberMethod_.methodparamsopt_, 0 );
      ppIdent( p->u.classMemberMethod_.lineeol_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ClassMember!\n" );
      exit( 1 );
   }
}

void ppVisibilityScope( VisibilityScope p, int _i_ )
{
   switch( p->kind )
   {
   case is_VisibilityExported:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "exported:" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_VisibilityVisible:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "visible:" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_VisibilityHidden:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "hidden:" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_VisibilityProtected:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "protected:" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing VisibilityScope!\n" );
      exit( 1 );
   }
}

void ppVarList( VarList p, int _i_ )
{
   switch( p->kind )
   {
   case is_VarListSingle:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppVarDecl( p->u.varListSingle_.vardecl_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_VarListCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppVarDecl( p->u.varListCons_.vardecl_, 0 );
      renderC( ',' );
      ppVarList( p->u.varListCons_.varlist_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing VarList!\n" );
      exit( 1 );
   }
}

void ppVarDecl( VarDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_VarDeclItem:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.varDeclItem_.ident_, 0 );
      ppVarInitOpt( p->u.varDeclItem_.varinitopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing VarDecl!\n" );
      exit( 1 );
   }
}

void ppVarInitOpt( VarInitOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptVarInitEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptVarInitSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( ":=" );
      ppExpr( p->u.optVarInitSome_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing VarInitOpt!\n" );
      exit( 1 );
   }
}

void ppMethodParamsOpt( MethodParamsOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_MethodParamsEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_MethodParamsSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( '(' );
      ppParamListOpt( p->u.methodParamsSome_.paramlistopt_, 0 );
      renderC( ')' );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing MethodParamsOpt!\n" );
      exit( 1 );
   }
}

void ppExpr( Expr p, int _i_ )
{
   switch( p->kind )
   {
   case is_ExprAssignBase:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExprOr( p->u.exprAssignBase_.expror_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ExprAndDot:
      if( _i_ > 1 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprAndDot_.expr_1, 1 );
      renderS( ".AND." );
      ppExpr( p->u.exprAndDot_.expr_2, 2 );
      if( _i_ > 1 )
         renderC( _R_PAREN );
      break;

   case is_ExprAndBase:
      if( _i_ > 1 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprAndBase_.expr_, 2 );
      if( _i_ > 1 )
         renderC( _R_PAREN );
      break;

   case is_ExprNotDot:
      if( _i_ > 2 )
         renderC( _L_PAREN );
      renderS( ".NOT." );
      ppExpr( p->u.exprNotDot_.expr_, 2 );
      if( _i_ > 2 )
         renderC( _R_PAREN );
      break;

   case is_ExprNotBase:
      if( _i_ > 2 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprNotBase_.expr_, 3 );
      if( _i_ > 2 )
         renderC( _R_PAREN );
      break;

   case is_ExprEq:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprEq_.expr_1, 3 );
      renderC( '=' );
      ppExpr( p->u.exprEq_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprEq2:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprEq2_.expr_1, 3 );
      renderS( "==" );
      ppExpr( p->u.exprEq2_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprNeq:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprNeq_.expr_1, 3 );
      renderS( "!=" );
      ppExpr( p->u.exprNeq_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprNeq2:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprNeq2_.expr_1, 3 );
      renderS( "<>" );
      ppExpr( p->u.exprNeq2_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprNeq3:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprNeq3_.expr_1, 3 );
      renderC( '#' );
      ppExpr( p->u.exprNeq3_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprLt:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprLt_.expr_1, 3 );
      renderC( '<' );
      ppExpr( p->u.exprLt_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprLe:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprLe_.expr_1, 3 );
      renderS( "<=" );
      ppExpr( p->u.exprLe_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprGt:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprGt_.expr_1, 3 );
      renderC( '>' );
      ppExpr( p->u.exprGt_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprGe:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprGe_.expr_1, 3 );
      renderS( ">=" );
      ppExpr( p->u.exprGe_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprSubStr:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprSubStr_.expr_1, 3 );
      renderC( '$' );
      ppExpr( p->u.exprSubStr_.expr_2, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprRelBase:
      if( _i_ > 3 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprRelBase_.expr_, 4 );
      if( _i_ > 3 )
         renderC( _R_PAREN );
      break;

   case is_ExprAdd:
      if( _i_ > 4 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprAdd_.expr_1, 4 );
      renderC( '+' );
      ppExpr( p->u.exprAdd_.expr_2, 5 );
      if( _i_ > 4 )
         renderC( _R_PAREN );
      break;

   case is_ExprSub:
      if( _i_ > 4 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprSub_.expr_1, 4 );
      renderC( '-' );
      ppExpr( p->u.exprSub_.expr_2, 5 );
      if( _i_ > 4 )
         renderC( _R_PAREN );
      break;

   case is_ExprAddBase:
      if( _i_ > 4 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprAddBase_.expr_, 5 );
      if( _i_ > 4 )
         renderC( _R_PAREN );
      break;

   case is_ExprMul:
      if( _i_ > 5 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprMul_.expr_1, 5 );
      renderC( '*' );
      ppExpr( p->u.exprMul_.expr_2, 6 );
      if( _i_ > 5 )
         renderC( _R_PAREN );
      break;

   case is_ExprDiv:
      if( _i_ > 5 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprDiv_.expr_1, 5 );
      renderC( '/' );
      ppExpr( p->u.exprDiv_.expr_2, 6 );
      if( _i_ > 5 )
         renderC( _R_PAREN );
      break;

   case is_ExprMod:
      if( _i_ > 5 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprMod_.expr_1, 5 );
      renderC( '%' );
      ppExpr( p->u.exprMod_.expr_2, 6 );
      if( _i_ > 5 )
         renderC( _R_PAREN );
      break;

   case is_ExprMulBase:
      if( _i_ > 5 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprMulBase_.expr_, 6 );
      if( _i_ > 5 )
         renderC( _R_PAREN );
      break;

   case is_ExprPow1:
      if( _i_ > 6 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprPow1_.expr_1, 6 );
      renderS( "**" );
      ppExpr( p->u.exprPow1_.expr_2, 7 );
      if( _i_ > 6 )
         renderC( _R_PAREN );
      break;

   case is_ExprPow2:
      if( _i_ > 6 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprPow2_.expr_1, 6 );
      renderC( '^' );
      ppExpr( p->u.exprPow2_.expr_2, 7 );
      if( _i_ > 6 )
         renderC( _R_PAREN );
      break;

   case is_ExprPowBase:
      if( _i_ > 6 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprPowBase_.expr_, 7 );
      if( _i_ > 6 )
         renderC( _R_PAREN );
      break;

   case is_ExprAddrOf:
      if( _i_ > 7 )
         renderC( _L_PAREN );
      renderC( '&' );
      ppLHS( p->u.exprAddrOf_.lhs_, 0 );
      if( _i_ > 7 )
         renderC( _R_PAREN );
      break;

   case is_ExprDeref:
      if( _i_ > 7 )
         renderC( _L_PAREN );
      renderC( '*' );
      ppExpr( p->u.exprDeref_.expr_, 7 );
      if( _i_ > 7 )
         renderC( _R_PAREN );
      break;

   case is_ExprDecPre:
      if( _i_ > 7 )
         renderC( _L_PAREN );
      renderS( "--" );
      ppExpr( p->u.exprDecPre_.expr_, 7 );
      if( _i_ > 7 )
         renderC( _R_PAREN );
      break;

   case is_ExprIncPre:
      if( _i_ > 7 )
         renderC( _L_PAREN );
      renderS( "++" );
      ppExpr( p->u.exprIncPre_.expr_, 7 );
      if( _i_ > 7 )
         renderC( _R_PAREN );
      break;

   case is_ExprPlus:
      if( _i_ > 7 )
         renderC( _L_PAREN );
      renderC( '+' );
      ppExpr( p->u.exprPlus_.expr_, 7 );
      if( _i_ > 7 )
         renderC( _R_PAREN );
      break;

   case is_ExprMinus:
      if( _i_ > 7 )
         renderC( _L_PAREN );
      renderC( '-' );
      ppExpr( p->u.exprMinus_.expr_, 7 );
      if( _i_ > 7 )
         renderC( _R_PAREN );
      break;

   case is_ExprSignBase:
      if( _i_ > 7 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprSignBase_.expr_, 8 );
      if( _i_ > 7 )
         renderC( _R_PAREN );
      break;

   case is_ExprLit:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppLiteral( p->u.exprLit_.literal_, 0 );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprCall:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppCallExpr( p->u.exprCall_.callexpr_, 0 );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprQId:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppQualifiedId( p->u.exprQId_.qualifiedid_, 0 );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprParen:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      renderC( '(' );
      ppExpr( p->u.exprParen_.expr_, 0 );
      renderC( ')' );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprIndex:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprIndex_.expr_, 8 );
      renderC( '[' );
      ppSubscriptList( p->u.exprIndex_.subscriptlist_, 0 );
      renderC( ']' );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprArray:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      renderC( '{' );
      ppExprListOpt( p->u.exprArray_.exprlistopt_, 0 );
      renderC( '}' );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprBlock:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      renderC( '{' );
      renderC( '|' );
      ppParamListOpt( p->u.exprBlock_.paramlistopt_, 0 );
      renderC( '|' );
      ppExprListOpt( p->u.exprBlock_.exprlistopt_, 0 );
      renderC( '}' );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprMethodCall:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprMethodCall_.expr_, 8 );
      renderC( ':' );
      ppIdent( p->u.exprMethodCall_.ident_, 0 );
      renderC( '(' );
      ppArgListOpt( p->u.exprMethodCall_.arglistopt_, 0 );
      renderC( ')' );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprFieldAccess:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprFieldAccess_.expr_, 8 );
      renderC( ':' );
      ppIdent( p->u.exprFieldAccess_.ident_, 0 );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprStructInitNamed:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppQualifiedId( p->u.exprStructInitNamed_.qualifiedid_, 0 );
      renderC( '{' );
      ppFieldInitList( p->u.exprStructInitNamed_.fieldinitlist_, 0 );
      renderC( '}' );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprStructAnon:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      renderS( "struct" );
      renderC( '{' );
      ppFieldInitList( p->u.exprStructAnon_.fieldinitlist_, 0 );
      renderC( '}' );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprDecPost:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprDecPost_.expr_, 8 );
      renderS( "--" );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   case is_ExprIncPost:
      if( _i_ > 8 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprIncPost_.expr_, 8 );
      renderS( "++" );
      if( _i_ > 8 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing Expr!\n" );
      exit( 1 );
   }
}

void ppExprOr( ExprOr p, int _i_ )
{
   switch( p->kind )
   {
   case is_ExprOrDot:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExprOr( p->u.exprOrDot_.expror_, 0 );
      renderS( ".OR." );
      ppExpr( p->u.exprOrDot_.expr_, 1 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ExprOrBase:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.exprOrBase_.expr_, 1 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ExprOr!\n" );
      exit( 1 );
   }
}

void ppCallExpr( CallExpr p, int _i_ )
{
   switch( p->kind )
   {
   case is_CallExprMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppQualifiedId( p->u.callExprMain_.qualifiedid_, 0 );
      renderC( '(' );
      ppArgListOpt( p->u.callExprMain_.arglistopt_, 0 );
      renderC( ')' );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing CallExpr!\n" );
      exit( 1 );
   }
}

void ppArgListOpt( ArgListOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptArgListEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptArgListSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.optArgListSome_.expr_, 0 );
      ppArgListTail( p->u.optArgListSome_.arglisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ArgListOpt!\n" );
      exit( 1 );
   }
}

void ppArgListTail( ArgListTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListArgTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListArgTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppExpr( p->u.listArgTailCons_.expr_, 0 );
      ppArgListTail( p->u.listArgTailCons_.arglisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ArgListTail!\n" );
      exit( 1 );
   }
}

void ppExprListOpt( ExprListOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptExprListEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptExprListSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.optExprListSome_.expr_, 0 );
      ppExprListTail( p->u.optExprListSome_.exprlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ExprListOpt!\n" );
      exit( 1 );
   }
}

void ppExprListTail( ExprListTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListExprTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListExprTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppExpr( p->u.listExprTailCons_.expr_, 0 );
      ppExprListTail( p->u.listExprTailCons_.exprlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ExprListTail!\n" );
      exit( 1 );
   }
}

void ppQualifiedId( QualifiedId p, int _i_ )
{
   switch( p->kind )
   {
   case is_QualifiedIdSingle:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.qualifiedIdSingle_.ident_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_QualifiedIdMore:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.qualifiedIdMore_.ident_, 0 );
      renderC( '.' );
      ppQualifiedId( p->u.qualifiedIdMore_.qualifiedid_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing QualifiedId!\n" );
      exit( 1 );
   }
}

void ppLHS( LHS p, int _i_ )
{
   switch( p->kind )
   {
   case is_LHSVal:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLValue( p->u.lHSVal_.lvalue_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LHSDeref:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( '*' );
      ppExpr( p->u.lHSDeref_.expr_, 7 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing LHS!\n" );
      exit( 1 );
   }
}

void ppLValue( LValue p, int _i_ )
{
   switch( p->kind )
   {
   case is_LValQId:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppQualifiedId( p->u.lValQId_.qualifiedid_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LValField:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLValue( p->u.lValField_.lvalue_, 0 );
      renderC( ':' );
      ppIdent( p->u.lValField_.ident_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LValIndex:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLValue( p->u.lValIndex_.lvalue_, 0 );
      renderC( '[' );
      ppSubscriptList( p->u.lValIndex_.subscriptlist_, 0 );
      renderC( ']' );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing LValue!\n" );
      exit( 1 );
   }
}

void ppSubscriptList( SubscriptList p, int _i_ )
{
   switch( p->kind )
   {
   case is_SubscriptListSingle:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppExpr( p->u.subscriptListSingle_.expr_, 0 );
      ppSubscriptListTail( p->u.subscriptListSingle_.subscriptlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing SubscriptList!\n" );
      exit( 1 );
   }
}

void ppSubscriptListTail( SubscriptListTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListSubscriptTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListSubscriptTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppExpr( p->u.listSubscriptTailCons_.expr_, 0 );
      ppSubscriptListTail( p->u.listSubscriptTailCons_.subscriptlisttail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing SubscriptListTail!\n" );
      exit( 1 );
   }
}

void ppLiteral( Literal p, int _i_ )
{
   switch( p->kind )
   {
   case is_LitNil:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "nil" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LitTrueDot:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( ".T." );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LitFalseDot:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( ".F." );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LitInt:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.litInt_.intlit_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LitFloat:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.litFloat_.floatlit_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_LitStr:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppNapis( p->u.litStr_.napis_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing Literal!\n" );
      exit( 1 );
   }
}

void ppNapis( Napis p, int _i_ )
{
   switch( p->kind )
   {
   case is_NapisStr:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.napisStr_.strlit_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing Napis!\n" );
      exit( 1 );
   }
}

void ppDef( Def p, int _i_ )
{
   switch( p->kind )
   {
   case is_DefFun:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppFunctionDef( p->u.defFun_.functiondef_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_DefProc:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppProcedureDef( p->u.defProc_.proceduredef_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_DefMeth:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppMethodDef( p->u.defMeth_.methoddef_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing Def!\n" );
      exit( 1 );
   }
}

void ppFunctionDef( FunctionDef p, int _i_ )
{
   switch( p->kind )
   {
   case is_FunctionDefMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "function" );
      ppStaticOpt( p->u.functionDefMain_.staticopt_, 0 );
      ppIdent( p->u.functionDefMain_.ident_, 0 );
      renderC( '(' );
      ppParamListOpt( p->u.functionDefMain_.paramlistopt_, 0 );
      renderC( ')' );
      ppIdent( p->u.functionDefMain_.lineeol_, 0 );
      ppLocalDeclsOpt( p->u.functionDefMain_.localdeclsopt_, 0 );
      ppStaticDeclsOpt( p->u.functionDefMain_.staticdeclsopt_, 0 );
      ppStmtListNonEmpty( p->u.functionDefMain_.stmtlistnonempty_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing FunctionDef!\n" );
      exit( 1 );
   }
}

void ppProcedureDef( ProcedureDef p, int _i_ )
{
   switch( p->kind )
   {
   case is_ProcedureDefMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "procedure" );
      ppStaticOpt( p->u.procedureDefMain_.staticopt_, 0 );
      ppIdent( p->u.procedureDefMain_.ident_, 0 );
      renderC( '(' );
      ppParamListOpt( p->u.procedureDefMain_.paramlistopt_, 0 );
      renderC( ')' );
      ppIdent( p->u.procedureDefMain_.lineeol_, 0 );
      ppLocalDeclsOpt( p->u.procedureDefMain_.localdeclsopt_, 0 );
      ppStaticDeclsOpt( p->u.procedureDefMain_.staticdeclsopt_, 0 );
      ppStmtListNonEmpty( p->u.procedureDefMain_.stmtlistnonempty_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing ProcedureDef!\n" );
      exit( 1 );
   }
}

void ppStaticOpt( StaticOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptStaticEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptStaticSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "static" );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticOpt!\n" );
      exit( 1 );
   }
}

void ppLocalDeclsOpt( LocalDeclsOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListLocalDeclEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListLocalDeclLine:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.listLocalDeclLine_.lineeol_, 0 );
      ppLocalDeclsOpt( p->u.listLocalDeclLine_.localdeclsopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListLocalDeclCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppLocalDecl( p->u.listLocalDeclCons_.localdecl_, 0 );
      ppLocalDeclsOpt( p->u.listLocalDeclCons_.localdeclsopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing LocalDeclsOpt!\n" );
      exit( 1 );
   }
}

void ppLocalDecl( LocalDecl p, int _i_ )
{
   switch( p->kind )
   {
   case is_LocalDeclItem:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "local" );
      ppIdentInitList( p->u.localDeclItem_.identinitlist_, 0 );
      ppStmtEnd( p->u.localDeclItem_.stmtend_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing LocalDecl!\n" );
      exit( 1 );
   }
}

void ppStaticDeclsOpt( StaticDeclsOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListStaticDeclEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListStaticDeclCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStaticDecl( p->u.listStaticDeclCons_.staticdecl_, 0 );
      ppStaticDeclsOpt( p->u.listStaticDeclCons_.staticdeclsopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticDeclsOpt!\n" );
      exit( 1 );
   }
}

void ppStaticItemList( StaticItemList p, int _i_ )
{
   switch( p->kind )
   {
   case is_StaticItemListSingle:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppStaticItem( p->u.staticItemListSingle_.staticitem_, 0 );
      ppStaticItemTail( p->u.staticItemListSingle_.staticitemtail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticItemList!\n" );
      exit( 1 );
   }
}

void ppStaticItemTail( StaticItemTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_StaticItemTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StaticItemTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppStaticItem( p->u.staticItemTailCons_.staticitem_, 0 );
      ppStaticItemTail( p->u.staticItemTailCons_.staticitemtail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticItemTail!\n" );
      exit( 1 );
   }
}

void ppStaticItem( StaticItem p, int _i_ )
{
   switch( p->kind )
   {
   case is_StaticItemMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.staticItemMain_.ident_, 0 );
      ppStaticArrayDimsOpt( p->u.staticItemMain_.staticarraydimsopt_, 0 );
      ppStaticInitOpt( p->u.staticItemMain_.staticinitopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticItem!\n" );
      exit( 1 );
   }
}

void ppStaticArrayDimsOpt( StaticArrayDimsOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_StaticArrayDimsEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StaticArrayDimsCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( '[' );
      ppSubscriptList( p->u.staticArrayDimsCons_.subscriptlist_, 0 );
      renderC( ']' );
      ppStaticArrayDimsOpt( p->u.staticArrayDimsCons_.staticarraydimsopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticArrayDimsOpt!\n" );
      exit( 1 );
   }
}

void ppStaticInitOpt( StaticInitOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_StaticInitEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_StaticInitSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( ":=" );
      ppExpr( p->u.staticInitSome_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing StaticInitOpt!\n" );
      exit( 1 );
   }
}

void ppIdentInitList( IdentInitList p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListIdentInitSingle:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdentInit( p->u.listIdentInitSingle_.identinit_, 0 );
      ppIdentInitTail( p->u.listIdentInitSingle_.identinittail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing IdentInitList!\n" );
      exit( 1 );
   }
}

void ppIdentInitTail( IdentInitTail p, int _i_ )
{
   switch( p->kind )
   {
   case is_ListIdentInitTailEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_ListIdentInitTailCons:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderC( ',' );
      ppIdentInit( p->u.listIdentInitTailCons_.identinit_, 0 );
      ppIdentInitTail( p->u.listIdentInitTailCons_.identinittail_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing IdentInitTail!\n" );
      exit( 1 );
   }
}

void ppIdentInit( IdentInit p, int _i_ )
{
   switch( p->kind )
   {
   case is_IdentInitItem:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      ppIdent( p->u.identInitItem_.ident_, 0 );
      ppInitOpt( p->u.identInitItem_.initopt_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing IdentInit!\n" );
      exit( 1 );
   }
}

void ppInitOpt( InitOpt p, int _i_ )
{
   switch( p->kind )
   {
   case is_OptInitEmpty:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   case is_OptInitSome:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( ":=" );
      ppExpr( p->u.optInitSome_.expr_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing InitOpt!\n" );
      exit( 1 );
   }
}

void ppMethodDef( MethodDef p, int _i_ )
{
   switch( p->kind )
   {
   case is_MethodDefMain:
      if( _i_ > 0 )
         renderC( _L_PAREN );
      renderS( "method" );
      ppStaticOpt( p->u.methodDefMain_.staticopt_, 0 );
      ppIdent( p->u.methodDefMain_.ident_, 0 );
      renderC( '(' );
      ppParamListOpt( p->u.methodDefMain_.paramlistopt_, 0 );
      renderC( ')' );
      renderS( "class" );
      ppClassName( p->u.methodDefMain_.classname_, 0 );
      ppIdent( p->u.methodDefMain_.lineeol_, 0 );
      ppLocalDeclsOpt( p->u.methodDefMain_.localdeclsopt_, 0 );
      ppStaticDeclsOpt( p->u.methodDefMain_.staticdeclsopt_, 0 );
      ppStmtListNonEmpty( p->u.methodDefMain_.stmtlistnonempty_, 0 );
      if( _i_ > 0 )
         renderC( _R_PAREN );
      break;

   default:
      fprintf( stderr, "Error: bad kind field when printing MethodDef!\n" );
      exit( 1 );
   }
}

void ppInteger( Integer n, int i )
{
   char tmp[ 20 ];
   sprintf( tmp, "%d", n );
   renderS( tmp );
}
void ppDouble( Double d, int i )
{
   char tmp[ 24 ];
   sprintf( tmp, "%.15g", d );
   renderS( tmp );
}
void ppChar( Char c, int i )
{
   bufAppendC( '\'' );
   bufEscapeC( c );
   bufAppendC( '\'' );
   bufAppendC( ' ' );
}
void ppString( String s, int i )
{
   bufAppendC( '\"' );
   bufEscapeS( s );
   bufAppendC( '\"' );
   bufAppendC( ' ' );
}
void ppIdent( String s, int i )
{
   renderS( s );
}

void ppIntLit( String s, int i )
{
   renderS( s );
}

void ppFloatLit( String s, int i )
{
   renderS( s );
}

void ppStrLit( String s, int i )
{
   renderS( s );
}

void ppPreprocLine( String s, int i )
{
   renderS( s );
}

void ppLineEol( String s, int i )
{
   renderS( s );
}

void shProgram( Program p )
{
   switch( p->kind )
   {
   case is_ProgramRoot:
      bufAppendC( '(' );

      bufAppendS( "ProgramRoot" );

      bufAppendC( ' ' );

      shLeadingEols( p->u.programRoot_.leadingeols_ );
      bufAppendC( ' ' );
      shTopDecls( p->u.programRoot_.topdecls_ );
      bufAppendC( ' ' );
      shDefs( p->u.programRoot_.defs_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing Program!\n" );
      exit( 1 );
   }
}

void shLeadingEols( LeadingEols p )
{
   switch( p->kind )
   {
   case is_LeadingEolsEmpty:

      bufAppendS( "LeadingEolsEmpty" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing LeadingEols!\n" );
      exit( 1 );
   }
}

void shTopDecls( TopDecls p )
{
   switch( p->kind )
   {
   case is_ListTopDeclEmpty:

      bufAppendS( "ListTopDeclEmpty" );

      break;
   case is_ListTopDeclCons:
      bufAppendC( '(' );

      bufAppendS( "ListTopDeclCons" );

      bufAppendC( ' ' );

      shTopDecl( p->u.listTopDeclCons_.topdecl_ );
      bufAppendC( ' ' );
      shTopDecls( p->u.listTopDeclCons_.topdecls_ );

      bufAppendC( ')' );

      break;
   case is_ListTopDeclLine:
      bufAppendC( '(' );

      bufAppendS( "ListTopDeclLine" );

      bufAppendC( ' ' );

      shIdent( p->u.listTopDeclLine_.lineeol_ );
      bufAppendC( ' ' );
      shTopDecls( p->u.listTopDeclLine_.topdecls_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing TopDecls!\n" );
      exit( 1 );
   }
}

void shTopDecl( TopDecl p )
{
   switch( p->kind )
   {
   case is_TopDeclEnum:
      bufAppendC( '(' );

      bufAppendS( "TopDeclEnum" );

      bufAppendC( ' ' );

      shEnumDecl( p->u.topDeclEnum_.enumdecl_ );

      bufAppendC( ')' );

      break;
   case is_TopDeclClass:
      bufAppendC( '(' );

      bufAppendS( "TopDeclClass" );

      bufAppendC( ' ' );

      shClassDecl( p->u.topDeclClass_.classdecl_ );

      bufAppendC( ')' );

      break;
   case is_TopDeclStruct:
      bufAppendC( '(' );

      bufAppendS( "TopDeclStruct" );

      bufAppendC( ' ' );

      shStructDecl( p->u.topDeclStruct_.structdecl_ );

      bufAppendC( ')' );

      break;
   case is_TopDeclPreproc:
      bufAppendC( '(' );

      bufAppendS( "TopDeclPreproc" );

      bufAppendC( ' ' );

      shPreprocDecl( p->u.topDeclPreproc_.preprocdecl_ );

      bufAppendC( ')' );

      break;
   case is_TopDeclStatic:
      bufAppendC( '(' );

      bufAppendS( "TopDeclStatic" );

      bufAppendC( ' ' );

      shStaticDecl( p->u.topDeclStatic_.staticdecl_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing TopDecl!\n" );
      exit( 1 );
   }
}

void shDefs( Defs p )
{
   switch( p->kind )
   {
   case is_ListDefSingle:
      bufAppendC( '(' );

      bufAppendS( "ListDefSingle" );

      bufAppendC( ' ' );

      shDef( p->u.listDefSingle_.def_ );

      bufAppendC( ')' );

      break;
   case is_ListDefCons:
      bufAppendC( '(' );

      bufAppendS( "ListDefCons" );

      bufAppendC( ' ' );

      shDef( p->u.listDefCons_.def_ );
      bufAppendC( ' ' );
      shDefs( p->u.listDefCons_.defs_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing Defs!\n" );
      exit( 1 );
   }
}

void shPreprocDecl( PreprocDecl p )
{
   switch( p->kind )
   {
   case is_PreprocDeclLine:
      bufAppendC( '(' );

      bufAppendS( "PreprocDeclLine" );

      bufAppendC( ' ' );

      shIdent( p->u.preprocDeclLine_.preprocline_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.preprocDeclLine_.stmtend_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing PreprocDecl!\n" );
      exit( 1 );
   }
}

void shParamListOpt( ParamListOpt p )
{
   switch( p->kind )
   {
   case is_OptParamListEmpty:

      bufAppendS( "OptParamListEmpty" );

      break;
   case is_OptParamListSome:
      bufAppendC( '(' );

      bufAppendS( "OptParamListSome" );

      bufAppendC( ' ' );

      shIdent( p->u.optParamListSome_.ident_ );
      bufAppendC( ' ' );
      shParamListTail( p->u.optParamListSome_.paramlisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ParamListOpt!\n" );
      exit( 1 );
   }
}

void shParamListTail( ParamListTail p )
{
   switch( p->kind )
   {
   case is_ListParamTailEmpty:

      bufAppendS( "ListParamTailEmpty" );

      break;
   case is_ListParamTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListParamTailCons" );

      bufAppendC( ' ' );

      shIdent( p->u.listParamTailCons_.ident_ );
      bufAppendC( ' ' );
      shParamListTail( p->u.listParamTailCons_.paramlisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ParamListTail!\n" );
      exit( 1 );
   }
}

void shStmt( Stmt p )
{
   switch( p->kind )
   {
   case is_StmtAssignInl:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignInl" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignInl_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignInl_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignInl_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtAssignAdd:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignAdd" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignAdd_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignAdd_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignAdd_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtAssignSub:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignSub" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignSub_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignSub_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignSub_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtAssignMul:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignMul" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignMul_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignMul_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignMul_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtAssignDiv:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignDiv" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignDiv_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignDiv_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignDiv_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtAssignMod:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignMod" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignMod_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignMod_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignMod_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtAssignPow:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignPow" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignPow_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignPow_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignPow_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtAssignPow2:
      bufAppendC( '(' );

      bufAppendS( "StmtAssignPow2" );

      bufAppendC( ' ' );

      shLHS( p->u.stmtAssignPow2_.lhs_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtAssignPow2_.expr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtAssignPow2_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtCall:
      bufAppendC( '(' );

      bufAppendS( "StmtCall" );

      bufAppendC( ' ' );

      shCallExpr( p->u.stmtCall_.callexpr_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtCall_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtIf:
      bufAppendC( '(' );

      bufAppendS( "StmtIf" );

      bufAppendC( ' ' );

      shIfCond( p->u.stmtIf_.ifcond_ );
      bufAppendC( ' ' );
      shIdent( p->u.stmtIf_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.stmtIf_.stmtlist_ );
      bufAppendC( ' ' );
      shElseIfList( p->u.stmtIf_.elseiflist_ );
      bufAppendC( ' ' );
      shElseOpt( p->u.stmtIf_.elseopt_ );
      bufAppendC( ' ' );
      shEndIf( p->u.stmtIf_.endif_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtIf_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtDoWhile:
      bufAppendC( '(' );

      bufAppendS( "StmtDoWhile" );

      bufAppendC( ' ' );

      shDoOpt( p->u.stmtDoWhile_.doopt_ );
      bufAppendC( ' ' );
      shWhileCond( p->u.stmtDoWhile_.whilecond_ );
      bufAppendC( ' ' );
      shIdent( p->u.stmtDoWhile_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.stmtDoWhile_.stmtlist_ );
      bufAppendC( ' ' );
      shEndDo( p->u.stmtDoWhile_.enddo_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtDoWhile_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtFor:
      bufAppendC( '(' );

      bufAppendS( "StmtFor" );

      bufAppendC( ' ' );

      shIdent( p->u.stmtFor_.ident_ );
      bufAppendC( ' ' );
      shExpr( p->u.stmtFor_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.stmtFor_.expr_2 );
      bufAppendC( ' ' );
      shStepOpt( p->u.stmtFor_.stepopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.stmtFor_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.stmtFor_.stmtlist_ );
      bufAppendC( ' ' );
      shEndFor( p->u.stmtFor_.endfor_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtFor_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtForEach:
      bufAppendC( '(' );

      bufAppendS( "StmtForEach" );

      bufAppendC( ' ' );

      shForEachVars( p->u.stmtForEach_.foreachvars_ );
      bufAppendC( ' ' );
      shForEachExprs( p->u.stmtForEach_.foreachexprs_ );
      bufAppendC( ' ' );
      shForEachDescOpt( p->u.stmtForEach_.foreachdescopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.stmtForEach_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.stmtForEach_.stmtlist_ );
      bufAppendC( ' ' );
      shEndFor( p->u.stmtForEach_.endfor_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtForEach_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtSwitch:
      bufAppendC( '(' );

      bufAppendS( "StmtSwitch" );

      bufAppendC( ' ' );

      shSwitchCond( p->u.stmtSwitch_.switchcond_ );
      bufAppendC( ' ' );
      shIdent( p->u.stmtSwitch_.lineeol_ );
      bufAppendC( ' ' );
      shCaseList( p->u.stmtSwitch_.caselist_ );
      bufAppendC( ' ' );
      shOtherwiseOpt( p->u.stmtSwitch_.otherwiseopt_ );
      bufAppendC( ' ' );
      shEndSwitch( p->u.stmtSwitch_.endswitch_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtSwitch_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtDoCase:
      bufAppendC( '(' );

      bufAppendS( "StmtDoCase" );

      bufAppendC( ' ' );

      shIdent( p->u.stmtDoCase_.lineeol_ );
      bufAppendC( ' ' );
      shCaseCondList( p->u.stmtDoCase_.casecondlist_ );
      bufAppendC( ' ' );
      shOtherwiseOpt( p->u.stmtDoCase_.otherwiseopt_ );
      bufAppendC( ' ' );
      shEndCase( p->u.stmtDoCase_.endcase_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtDoCase_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtSequence:
      bufAppendC( '(' );

      bufAppendS( "StmtSequence" );

      bufAppendC( ' ' );

      shIdent( p->u.stmtSequence_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.stmtSequence_.stmtlist_ );
      bufAppendC( ' ' );
      shRecoverOpt( p->u.stmtSequence_.recoveropt_ );
      bufAppendC( ' ' );
      shEndSequence( p->u.stmtSequence_.endsequence_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtSequence_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtBreak:
      bufAppendC( '(' );

      bufAppendS( "StmtBreak" );

      bufAppendC( ' ' );

      shBreakExprOpt( p->u.stmtBreak_.breakexpropt_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtBreak_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtExit:
      bufAppendC( '(' );

      bufAppendS( "StmtExit" );

      bufAppendC( ' ' );

      shStmtEnd( p->u.stmtExit_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtLoop:
      bufAppendC( '(' );

      bufAppendS( "StmtLoop" );

      bufAppendC( ' ' );

      shStmtEnd( p->u.stmtLoop_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtReturn:
      bufAppendC( '(' );

      bufAppendS( "StmtReturn" );

      bufAppendC( ' ' );

      shReturnExprOpt( p->u.stmtReturn_.returnexpropt_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.stmtReturn_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StmtStructDecl:
      bufAppendC( '(' );

      bufAppendS( "StmtStructDecl" );

      bufAppendC( ' ' );

      shStructDecl( p->u.stmtStructDecl_.structdecl_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing Stmt!\n" );
      exit( 1 );
   }
}

void shReturnExprOpt( ReturnExprOpt p )
{
   switch( p->kind )
   {
   case is_ReturnExprOptEmpty:

      bufAppendS( "ReturnExprOptEmpty" );

      break;
   case is_ReturnExprOptSome:
      bufAppendC( '(' );

      bufAppendS( "ReturnExprOptSome" );

      bufAppendC( ' ' );

      shExpr( p->u.returnExprOptSome_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ReturnExprOpt!\n" );
      exit( 1 );
   }
}

void shStmtList( StmtList p )
{
   switch( p->kind )
   {
   case is_ListStmtEmpty:

      bufAppendS( "ListStmtEmpty" );

      break;
   case is_ListStmtCons:
      bufAppendC( '(' );

      bufAppendS( "ListStmtCons" );

      bufAppendC( ' ' );

      shStmt( p->u.listStmtCons_.stmt_ );
      bufAppendC( ' ' );
      shStmtList( p->u.listStmtCons_.stmtlist_ );

      bufAppendC( ')' );

      break;
   case is_ListStmtLine:
      bufAppendC( '(' );

      bufAppendS( "ListStmtLine" );

      bufAppendC( ' ' );

      shIdent( p->u.listStmtLine_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.listStmtLine_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StmtList!\n" );
      exit( 1 );
   }
}

void shStmtListNonEmpty( StmtListNonEmpty p )
{
   switch( p->kind )
   {
   case is_ListStmtNonEmpty:
      bufAppendC( '(' );

      bufAppendS( "ListStmtNonEmpty" );

      bufAppendC( ' ' );

      shStmt( p->u.listStmtNonEmpty_.stmt_ );
      bufAppendC( ' ' );
      shStmtList( p->u.listStmtNonEmpty_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StmtListNonEmpty!\n" );
      exit( 1 );
   }
}

void shElseIfList( ElseIfList p )
{
   switch( p->kind )
   {
   case is_ListElseIfEmpty:

      bufAppendS( "ListElseIfEmpty" );

      break;
   case is_ListElseIfCons:
      bufAppendC( '(' );

      bufAppendS( "ListElseIfCons" );

      bufAppendC( ' ' );

      shElseIf( p->u.listElseIfCons_.elseif_ );
      bufAppendC( ' ' );
      shElseIfList( p->u.listElseIfCons_.elseiflist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ElseIfList!\n" );
      exit( 1 );
   }
}

void shElseIf( ElseIf p )
{
   switch( p->kind )
   {
   case is_ElseIfClause:
      bufAppendC( '(' );

      bufAppendS( "ElseIfClause" );

      bufAppendC( ' ' );

      shIfCond( p->u.elseIfClause_.ifcond_ );
      bufAppendC( ' ' );
      shIdent( p->u.elseIfClause_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.elseIfClause_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ElseIf!\n" );
      exit( 1 );
   }
}

void shElseOpt( ElseOpt p )
{
   switch( p->kind )
   {
   case is_OptElseEmpty:

      bufAppendS( "OptElseEmpty" );

      break;
   case is_OptElseSome:
      bufAppendC( '(' );

      bufAppendS( "OptElseSome" );

      bufAppendC( ' ' );

      shIdent( p->u.optElseSome_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.optElseSome_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ElseOpt!\n" );
      exit( 1 );
   }
}

void shIfCond( IfCond p )
{
   switch( p->kind )
   {
   case is_IfCondExpr:
      bufAppendC( '(' );

      bufAppendS( "IfCondExpr" );

      bufAppendC( ' ' );

      shExpr( p->u.ifCondExpr_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing IfCond!\n" );
      exit( 1 );
   }
}

void shEndIf( EndIf p )
{
   switch( p->kind )
   {
   case is_EndIfWord:

      bufAppendS( "EndIfWord" );

      break;
   case is_EndIfClause:
      bufAppendC( '(' );

      bufAppendS( "EndIfClause" );

      bufAppendC( ' ' );

      shEndIfOpt( p->u.endIfClause_.endifopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndIf!\n" );
      exit( 1 );
   }
}

void shEndIfOpt( EndIfOpt p )
{
   switch( p->kind )
   {
   case is_EndIfOptEmpty:

      bufAppendS( "EndIfOptEmpty" );

      break;
   case is_EndIfOptIf:

      bufAppendS( "EndIfOptIf" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndIfOpt!\n" );
      exit( 1 );
   }
}

void shDoOpt( DoOpt p )
{
   switch( p->kind )
   {
   case is_DoOptEmpty:

      bufAppendS( "DoOptEmpty" );

      break;
   case is_DoOptDo:

      bufAppendS( "DoOptDo" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing DoOpt!\n" );
      exit( 1 );
   }
}

void shWhileCond( WhileCond p )
{
   switch( p->kind )
   {
   case is_WhileCondExpr:
      bufAppendC( '(' );

      bufAppendS( "WhileCondExpr" );

      bufAppendC( ' ' );

      shExpr( p->u.whileCondExpr_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing WhileCond!\n" );
      exit( 1 );
   }
}

void shEndDo( EndDo p )
{
   switch( p->kind )
   {
   case is_EndDoWord:

      bufAppendS( "EndDoWord" );

      break;
   case is_EndWhileWord:

      bufAppendS( "EndWhileWord" );

      break;
   case is_EndDoClause:
      bufAppendC( '(' );

      bufAppendS( "EndDoClause" );

      bufAppendC( ' ' );

      shEndDoOpt( p->u.endDoClause_.enddoopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndDo!\n" );
      exit( 1 );
   }
}

void shEndDoOpt( EndDoOpt p )
{
   switch( p->kind )
   {
   case is_EndDoOptEmpty:

      bufAppendS( "EndDoOptEmpty" );

      break;
   case is_EndDoOptDo:

      bufAppendS( "EndDoOptDo" );

      break;
   case is_EndDoOptWhile:

      bufAppendS( "EndDoOptWhile" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndDoOpt!\n" );
      exit( 1 );
   }
}

void shEndCase( EndCase p )
{
   switch( p->kind )
   {
   case is_EndCaseWord:

      bufAppendS( "EndCaseWord" );

      break;
   case is_EndCaseClause:
      bufAppendC( '(' );

      bufAppendS( "EndCaseClause" );

      bufAppendC( ' ' );

      shEndCaseOpt( p->u.endCaseClause_.endcaseopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndCase!\n" );
      exit( 1 );
   }
}

void shEndCaseOpt( EndCaseOpt p )
{
   switch( p->kind )
   {
   case is_EndCaseOptEmpty:

      bufAppendS( "EndCaseOptEmpty" );

      break;
   case is_EndCaseOptCase:

      bufAppendS( "EndCaseOptCase" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndCaseOpt!\n" );
      exit( 1 );
   }
}

void shStepOpt( StepOpt p )
{
   switch( p->kind )
   {
   case is_OptStepEmpty:

      bufAppendS( "OptStepEmpty" );

      break;
   case is_OptStepSome:
      bufAppendC( '(' );

      bufAppendS( "OptStepSome" );

      bufAppendC( ' ' );

      shExpr( p->u.optStepSome_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StepOpt!\n" );
      exit( 1 );
   }
}

void shEndFor( EndFor p )
{
   switch( p->kind )
   {
   case is_EndForWord:

      bufAppendS( "EndForWord" );

      break;
   case is_EndForClause:
      bufAppendC( '(' );

      bufAppendS( "EndForClause" );

      bufAppendC( ' ' );

      shEndForOpt( p->u.endForClause_.endforopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndFor!\n" );
      exit( 1 );
   }
}

void shEndForOpt( EndForOpt p )
{
   switch( p->kind )
   {
   case is_EndForOptEmpty:

      bufAppendS( "EndForOptEmpty" );

      break;
   case is_EndForOptFor:

      bufAppendS( "EndForOptFor" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndForOpt!\n" );
      exit( 1 );
   }
}

void shForEachVars( ForEachVars p )
{
   switch( p->kind )
   {
   case is_ForEachVarsMain:
      bufAppendC( '(' );

      bufAppendS( "ForEachVarsMain" );

      bufAppendC( ' ' );

      shIdent( p->u.forEachVarsMain_.ident_ );
      bufAppendC( ' ' );
      shForEachVarsTail( p->u.forEachVarsMain_.foreachvarstail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ForEachVars!\n" );
      exit( 1 );
   }
}

void shForEachVarsTail( ForEachVarsTail p )
{
   switch( p->kind )
   {
   case is_ListForEachVarsTailEmpty:

      bufAppendS( "ListForEachVarsTailEmpty" );

      break;
   case is_ListForEachVarsTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListForEachVarsTailCons" );

      bufAppendC( ' ' );

      shIdent( p->u.listForEachVarsTailCons_.ident_ );
      bufAppendC( ' ' );
      shForEachVarsTail( p->u.listForEachVarsTailCons_.foreachvarstail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ForEachVarsTail!\n" );
      exit( 1 );
   }
}

void shForEachExprs( ForEachExprs p )
{
   switch( p->kind )
   {
   case is_ForEachExprsMain:
      bufAppendC( '(' );

      bufAppendS( "ForEachExprsMain" );

      bufAppendC( ' ' );

      shExpr( p->u.forEachExprsMain_.expr_ );
      bufAppendC( ' ' );
      shForEachExprsTail( p->u.forEachExprsMain_.foreachexprstail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ForEachExprs!\n" );
      exit( 1 );
   }
}

void shForEachExprsTail( ForEachExprsTail p )
{
   switch( p->kind )
   {
   case is_ListForEachExprsTailEmpty:

      bufAppendS( "ListForEachExprsTailEmpty" );

      break;
   case is_ListForEachExprsTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListForEachExprsTailCons" );

      bufAppendC( ' ' );

      shExpr( p->u.listForEachExprsTailCons_.expr_ );
      bufAppendC( ' ' );
      shForEachExprsTail( p->u.listForEachExprsTailCons_.foreachexprstail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ForEachExprsTail!\n" );
      exit( 1 );
   }
}

void shForEachDescOpt( ForEachDescOpt p )
{
   switch( p->kind )
   {
   case is_ForEachDescOptEmpty:

      bufAppendS( "ForEachDescOptEmpty" );

      break;
   case is_ForEachDescOptSome:

      bufAppendS( "ForEachDescOptSome" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ForEachDescOpt!\n" );
      exit( 1 );
   }
}

void shCaseList( CaseList p )
{
   switch( p->kind )
   {
   case is_ListCaseEmpty:

      bufAppendS( "ListCaseEmpty" );

      break;
   case is_ListCaseCons:
      bufAppendC( '(' );

      bufAppendS( "ListCaseCons" );

      bufAppendC( ' ' );

      shCaseClause( p->u.listCaseCons_.caseclause_ );
      bufAppendC( ' ' );
      shCaseList( p->u.listCaseCons_.caselist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing CaseList!\n" );
      exit( 1 );
   }
}

void shCaseClause( CaseClause p )
{
   switch( p->kind )
   {
   case is_CaseClauseItem:
      bufAppendC( '(' );

      bufAppendS( "CaseClauseItem" );

      bufAppendC( ' ' );

      shCaseValue( p->u.caseClauseItem_.casevalue_ );
      bufAppendC( ' ' );
      shIdent( p->u.caseClauseItem_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.caseClauseItem_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing CaseClause!\n" );
      exit( 1 );
   }
}

void shCaseCondList( CaseCondList p )
{
   switch( p->kind )
   {
   case is_ListCaseCondEmpty:

      bufAppendS( "ListCaseCondEmpty" );

      break;
   case is_ListCaseCondCons:
      bufAppendC( '(' );

      bufAppendS( "ListCaseCondCons" );

      bufAppendC( ' ' );

      shCaseCondClause( p->u.listCaseCondCons_.casecondclause_ );
      bufAppendC( ' ' );
      shCaseCondList( p->u.listCaseCondCons_.casecondlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing CaseCondList!\n" );
      exit( 1 );
   }
}

void shCaseCondClause( CaseCondClause p )
{
   switch( p->kind )
   {
   case is_CaseCondClauseItem:
      bufAppendC( '(' );

      bufAppendS( "CaseCondClauseItem" );

      bufAppendC( ' ' );

      shExpr( p->u.caseCondClauseItem_.expr_ );
      bufAppendC( ' ' );
      shIdent( p->u.caseCondClauseItem_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.caseCondClauseItem_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing CaseCondClause!\n" );
      exit( 1 );
   }
}

void shOtherwiseOpt( OtherwiseOpt p )
{
   switch( p->kind )
   {
   case is_OptOtherwiseEmpty:

      bufAppendS( "OptOtherwiseEmpty" );

      break;
   case is_OptOtherwiseSome:
      bufAppendC( '(' );

      bufAppendS( "OptOtherwiseSome" );

      bufAppendC( ' ' );

      shIdent( p->u.optOtherwiseSome_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.optOtherwiseSome_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing OtherwiseOpt!\n" );
      exit( 1 );
   }
}

void shBreakExprOpt( BreakExprOpt p )
{
   switch( p->kind )
   {
   case is_BreakExprOptEmpty:

      bufAppendS( "BreakExprOptEmpty" );

      break;
   case is_BreakExprOptSome:
      bufAppendC( '(' );

      bufAppendS( "BreakExprOptSome" );

      bufAppendC( ' ' );

      shExpr( p->u.breakExprOptSome_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing BreakExprOpt!\n" );
      exit( 1 );
   }
}

void shRecoverOpt( RecoverOpt p )
{
   switch( p->kind )
   {
   case is_RecoverOptEmpty:

      bufAppendS( "RecoverOptEmpty" );

      break;
   case is_RecoverOptSome:
      bufAppendC( '(' );

      bufAppendS( "RecoverOptSome" );

      bufAppendC( ' ' );

      shRecoverUsingOpt( p->u.recoverOptSome_.recoverusingopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.recoverOptSome_.lineeol_ );
      bufAppendC( ' ' );
      shStmtList( p->u.recoverOptSome_.stmtlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing RecoverOpt!\n" );
      exit( 1 );
   }
}

void shRecoverUsingOpt( RecoverUsingOpt p )
{
   switch( p->kind )
   {
   case is_RecoverUsingOptEmpty:

      bufAppendS( "RecoverUsingOptEmpty" );

      break;
   case is_RecoverUsingOptSome:
      bufAppendC( '(' );

      bufAppendS( "RecoverUsingOptSome" );

      bufAppendC( ' ' );

      shIdent( p->u.recoverUsingOptSome_.ident_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing RecoverUsingOpt!\n" );
      exit( 1 );
   }
}

void shEndSequence( EndSequence p )
{
   switch( p->kind )
   {
   case is_EndSequenceWord:

      bufAppendS( "EndSequenceWord" );

      break;
   case is_EndSequenceClause:
      bufAppendC( '(' );

      bufAppendS( "EndSequenceClause" );

      bufAppendC( ' ' );

      shEndSequenceOpt( p->u.endSequenceClause_.endsequenceopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndSequence!\n" );
      exit( 1 );
   }
}

void shEndSequenceOpt( EndSequenceOpt p )
{
   switch( p->kind )
   {
   case is_EndSequenceOptEmpty:

      bufAppendS( "EndSequenceOptEmpty" );

      break;
   case is_EndSequenceOptSeq:

      bufAppendS( "EndSequenceOptSeq" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndSequenceOpt!\n" );
      exit( 1 );
   }
}

void shSwitchCond( SwitchCond p )
{
   switch( p->kind )
   {
   case is_SwitchCondExpr:
      bufAppendC( '(' );

      bufAppendS( "SwitchCondExpr" );

      bufAppendC( ' ' );

      shExpr( p->u.switchCondExpr_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing SwitchCond!\n" );
      exit( 1 );
   }
}

void shEndSwitch( EndSwitch p )
{
   switch( p->kind )
   {
   case is_EndSwitchWord:

      bufAppendS( "EndSwitchWord" );

      break;
   case is_EndSwitchClause:
      bufAppendC( '(' );

      bufAppendS( "EndSwitchClause" );

      bufAppendC( ' ' );

      shEndSwitchOpt( p->u.endSwitchClause_.endswitchopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndSwitch!\n" );
      exit( 1 );
   }
}

void shEndSwitchOpt( EndSwitchOpt p )
{
   switch( p->kind )
   {
   case is_EndSwitchOptEmpty:

      bufAppendS( "EndSwitchOptEmpty" );

      break;
   case is_EndSwitchOptSwitch:

      bufAppendS( "EndSwitchOptSwitch" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndSwitchOpt!\n" );
      exit( 1 );
   }
}

void shEndStruct( EndStruct p )
{
   switch( p->kind )
   {
   case is_EndStructWord:

      bufAppendS( "EndStructWord" );

      break;
   case is_EndStructClause:
      bufAppendC( '(' );

      bufAppendS( "EndStructClause" );

      bufAppendC( ' ' );

      shEndStructOpt( p->u.endStructClause_.endstructopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndStruct!\n" );
      exit( 1 );
   }
}

void shEndStructOpt( EndStructOpt p )
{
   switch( p->kind )
   {
   case is_EndStructOptEmpty:

      bufAppendS( "EndStructOptEmpty" );

      break;
   case is_EndStructOptStruct:

      bufAppendS( "EndStructOptStruct" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndStructOpt!\n" );
      exit( 1 );
   }
}

void shEndClass( EndClass p )
{
   switch( p->kind )
   {
   case is_EndClassWord:

      bufAppendS( "EndClassWord" );

      break;
   case is_EndClassClause:
      bufAppendC( '(' );

      bufAppendS( "EndClassClause" );

      bufAppendC( ' ' );

      shEndClassOpt( p->u.endClassClause_.endclassopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndClass!\n" );
      exit( 1 );
   }
}

void shEndClassOpt( EndClassOpt p )
{
   switch( p->kind )
   {
   case is_EndClassOptEmpty:

      bufAppendS( "EndClassOptEmpty" );

      break;
   case is_EndClassOptClass:

      bufAppendS( "EndClassOptClass" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndClassOpt!\n" );
      exit( 1 );
   }
}

void shEndEnum( EndEnum p )
{
   switch( p->kind )
   {
   case is_EndEnumWord:

      bufAppendS( "EndEnumWord" );

      break;
   case is_EndEnumClause:
      bufAppendC( '(' );

      bufAppendS( "EndEnumClause" );

      bufAppendC( ' ' );

      shEndEnumOpt( p->u.endEnumClause_.endenumopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndEnum!\n" );
      exit( 1 );
   }
}

void shEndEnumOpt( EndEnumOpt p )
{
   switch( p->kind )
   {
   case is_EndEnumOptEmpty:

      bufAppendS( "EndEnumOptEmpty" );

      break;
   case is_EndEnumOptEnum:

      bufAppendS( "EndEnumOptEnum" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EndEnumOpt!\n" );
      exit( 1 );
   }
}

void shCaseValue( CaseValue p )
{
   switch( p->kind )
   {
   case is_CaseValueInt:
      bufAppendC( '(' );

      bufAppendS( "CaseValueInt" );

      bufAppendC( ' ' );

      shIdent( p->u.caseValueInt_.intlit_ );

      bufAppendC( ')' );

      break;
   case is_CaseValueStr:
      bufAppendC( '(' );

      bufAppendS( "CaseValueStr" );

      bufAppendC( ' ' );

      shNapis( p->u.caseValueStr_.napis_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing CaseValue!\n" );
      exit( 1 );
   }
}

void shStmtEnd( StmtEnd p )
{
   switch( p->kind )
   {
   case is_StmtEndLine:
      bufAppendC( '(' );

      bufAppendS( "StmtEndLine" );

      bufAppendC( ' ' );

      shIdent( p->u.stmtEndLine_.lineeol_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StmtEnd!\n" );
      exit( 1 );
   }
}

void shEnumDecl( EnumDecl p )
{
   switch( p->kind )
   {
   case is_EnumDeclNamed:
      bufAppendC( '(' );

      bufAppendS( "EnumDeclNamed" );

      bufAppendC( ' ' );

      shIdent( p->u.enumDeclNamed_.ident_ );
      bufAppendC( ' ' );
      shIdent( p->u.enumDeclNamed_.lineeol_ );
      bufAppendC( ' ' );
      shEnumListOpt( p->u.enumDeclNamed_.enumlistopt_ );
      bufAppendC( ' ' );
      shEndEnum( p->u.enumDeclNamed_.endenum_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.enumDeclNamed_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_EnumDeclAnon:
      bufAppendC( '(' );

      bufAppendS( "EnumDeclAnon" );

      bufAppendC( ' ' );

      shIdent( p->u.enumDeclAnon_.lineeol_ );
      bufAppendC( ' ' );
      shEnumListOpt( p->u.enumDeclAnon_.enumlistopt_ );
      bufAppendC( ' ' );
      shEndEnum( p->u.enumDeclAnon_.endenum_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.enumDeclAnon_.stmtend_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EnumDecl!\n" );
      exit( 1 );
   }
}

void shEnumListOpt( EnumListOpt p )
{
   switch( p->kind )
   {
   case is_OptEnumListEmpty:

      bufAppendS( "OptEnumListEmpty" );

      break;
   case is_OptEnumListSome:
      bufAppendC( '(' );

      bufAppendS( "OptEnumListSome" );

      bufAppendC( ' ' );

      shEnumItem( p->u.optEnumListSome_.enumitem_ );
      bufAppendC( ' ' );
      shEnumListTail( p->u.optEnumListSome_.enumlisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EnumListOpt!\n" );
      exit( 1 );
   }
}

void shEnumListTail( EnumListTail p )
{
   switch( p->kind )
   {
   case is_ListEnumTailEmpty:

      bufAppendS( "ListEnumTailEmpty" );

      break;
   case is_ListEnumTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListEnumTailCons" );

      bufAppendC( ' ' );

      shEnumSep( p->u.listEnumTailCons_.enumsep_ );
      bufAppendC( ' ' );
      shEnumItem( p->u.listEnumTailCons_.enumitem_ );
      bufAppendC( ' ' );
      shEnumListTail( p->u.listEnumTailCons_.enumlisttail_ );

      bufAppendC( ')' );

      break;
   case is_ListEnumTailSep:
      bufAppendC( '(' );

      bufAppendS( "ListEnumTailSep" );

      bufAppendC( ' ' );

      shEnumSep( p->u.listEnumTailSep_.enumsep_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EnumListTail!\n" );
      exit( 1 );
   }
}

void shEnumSep( EnumSep p )
{
   switch( p->kind )
   {
   case is_EnumSepComma:
      bufAppendC( '(' );

      bufAppendS( "EnumSepComma" );

      bufAppendC( ' ' );

      shLineEolOpt( p->u.enumSepComma_.lineeolopt_ );

      bufAppendC( ')' );

      break;
   case is_EnumSepLine:
      bufAppendC( '(' );

      bufAppendS( "EnumSepLine" );

      bufAppendC( ' ' );

      shIdent( p->u.enumSepLine_.lineeol_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EnumSep!\n" );
      exit( 1 );
   }
}

void shEnumItem( EnumItem p )
{
   switch( p->kind )
   {
   case is_EnumItemDecl:
      bufAppendC( '(' );

      bufAppendS( "EnumItemDecl" );

      bufAppendC( ' ' );

      shIdent( p->u.enumItemDecl_.ident_ );
      bufAppendC( ' ' );
      shEnumValueOpt( p->u.enumItemDecl_.enumvalueopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EnumItem!\n" );
      exit( 1 );
   }
}

void shEnumValueOpt( EnumValueOpt p )
{
   switch( p->kind )
   {
   case is_OptEnumValueEmpty:

      bufAppendS( "OptEnumValueEmpty" );

      break;
   case is_OptEnumValueSome:
      bufAppendC( '(' );

      bufAppendS( "OptEnumValueSome" );

      bufAppendC( ' ' );

      shIdent( p->u.optEnumValueSome_.intlit_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing EnumValueOpt!\n" );
      exit( 1 );
   }
}

void shLineEolOpt( LineEolOpt p )
{
   switch( p->kind )
   {
   case is_OptLineEolEmpty:

      bufAppendS( "OptLineEolEmpty" );

      break;
   case is_OptLineEolSome:
      bufAppendC( '(' );

      bufAppendS( "OptLineEolSome" );

      bufAppendC( ' ' );

      shIdent( p->u.optLineEolSome_.lineeol_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing LineEolOpt!\n" );
      exit( 1 );
   }
}

void shStructDecl( StructDecl p )
{
   switch( p->kind )
   {
   case is_StructDeclMain:
      bufAppendC( '(' );

      bufAppendS( "StructDeclMain" );

      bufAppendC( ' ' );

      shIdent( p->u.structDeclMain_.ident_ );
      bufAppendC( ' ' );
      shIdent( p->u.structDeclMain_.lineeol_ );
      bufAppendC( ' ' );
      shStructBody( p->u.structDeclMain_.structbody_ );
      bufAppendC( ' ' );
      shEndStruct( p->u.structDeclMain_.endstruct_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.structDeclMain_.stmtend_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StructDecl!\n" );
      exit( 1 );
   }
}

void shStructBody( StructBody p )
{
   switch( p->kind )
   {
   case is_StructBodyEmpty:

      bufAppendS( "StructBodyEmpty" );

      break;
   case is_StructBodyCons:
      bufAppendC( '(' );

      bufAppendS( "StructBodyCons" );

      bufAppendC( ' ' );

      shStructMember( p->u.structBodyCons_.structmember_ );
      bufAppendC( ' ' );
      shStructBody( p->u.structBodyCons_.structbody_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StructBody!\n" );
      exit( 1 );
   }
}

void shStructMember( StructMember p )
{
   switch( p->kind )
   {
   case is_StructMemberVar:
      bufAppendC( '(' );

      bufAppendS( "StructMemberVar" );

      bufAppendC( ' ' );

      shVarList( p->u.structMemberVar_.varlist_ );
      bufAppendC( ' ' );
      shIdent( p->u.structMemberVar_.lineeol_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StructMember!\n" );
      exit( 1 );
   }
}

void shFieldInitList( FieldInitList p )
{
   switch( p->kind )
   {
   case is_FieldInitListSingle:
      bufAppendC( '(' );

      bufAppendS( "FieldInitListSingle" );

      bufAppendC( ' ' );

      shFieldInit( p->u.fieldInitListSingle_.fieldinit_ );

      bufAppendC( ')' );

      break;
   case is_FieldInitListCons:
      bufAppendC( '(' );

      bufAppendS( "FieldInitListCons" );

      bufAppendC( ' ' );

      shFieldInit( p->u.fieldInitListCons_.fieldinit_ );
      bufAppendC( ' ' );
      shFieldInitList( p->u.fieldInitListCons_.fieldinitlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing FieldInitList!\n" );
      exit( 1 );
   }
}

void shFieldInit( FieldInit p )
{
   switch( p->kind )
   {
   case is_FieldInitItem:
      bufAppendC( '(' );

      bufAppendS( "FieldInitItem" );

      bufAppendC( ' ' );

      shIdent( p->u.fieldInitItem_.ident_ );
      bufAppendC( ' ' );
      shExpr( p->u.fieldInitItem_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing FieldInit!\n" );
      exit( 1 );
   }
}

void shStaticDecl( StaticDecl p )
{
   switch( p->kind )
   {
   case is_StaticStructDecl:
      bufAppendC( '(' );

      bufAppendS( "StaticStructDecl" );

      bufAppendC( ' ' );

      shIdent( p->u.staticStructDecl_.ident_ );
      bufAppendC( ' ' );
      shIdentInitList( p->u.staticStructDecl_.identinitlist_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.staticStructDecl_.stmtend_ );

      bufAppendC( ')' );

      break;
   case is_StaticDeclItem:
      bufAppendC( '(' );

      bufAppendS( "StaticDeclItem" );

      bufAppendC( ' ' );

      shStaticItemList( p->u.staticDeclItem_.staticitemlist_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.staticDeclItem_.stmtend_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticDecl!\n" );
      exit( 1 );
   }
}

void shClassDecl( ClassDecl p )
{
   switch( p->kind )
   {
   case is_ClassDeclMain:
      bufAppendC( '(' );

      bufAppendS( "ClassDeclMain" );

      bufAppendC( ' ' );

      shCreateOpt( p->u.classDeclMain_.createopt_ );
      bufAppendC( ' ' );
      shClassName( p->u.classDeclMain_.classname_ );
      bufAppendC( ' ' );
      shInheritOpt( p->u.classDeclMain_.inheritopt_ );
      bufAppendC( ' ' );
      shStaticClassOpt( p->u.classDeclMain_.staticclassopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.classDeclMain_.lineeol_ );
      bufAppendC( ' ' );
      shClassBody( p->u.classDeclMain_.classbody_ );
      bufAppendC( ' ' );
      shEndClass( p->u.classDeclMain_.endclass_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.classDeclMain_.stmtend_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ClassDecl!\n" );
      exit( 1 );
   }
}

void shCreateOpt( CreateOpt p )
{
   switch( p->kind )
   {
   case is_OptCreateEmpty:

      bufAppendS( "OptCreateEmpty" );

      break;
   case is_OptCreateSome:

      bufAppendS( "OptCreateSome" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing CreateOpt!\n" );
      exit( 1 );
   }
}

void shClassName( ClassName p )
{
   switch( p->kind )
   {
   case is_ClassNameIdent:
      bufAppendC( '(' );

      bufAppendS( "ClassNameIdent" );

      bufAppendC( ' ' );

      shIdent( p->u.classNameIdent_.ident_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ClassName!\n" );
      exit( 1 );
   }
}

void shInheritOpt( InheritOpt p )
{
   switch( p->kind )
   {
   case is_OptInheritEmpty:

      bufAppendS( "OptInheritEmpty" );

      break;
   case is_OptInheritSome:
      bufAppendC( '(' );

      bufAppendS( "OptInheritSome" );

      bufAppendC( ' ' );

      shInheritKeyword( p->u.optInheritSome_.inheritkeyword_ );
      bufAppendC( ' ' );
      shClassName( p->u.optInheritSome_.classname_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing InheritOpt!\n" );
      exit( 1 );
   }
}

void shInheritKeyword( InheritKeyword p )
{
   switch( p->kind )
   {
   case is_InheritFrom:

      bufAppendS( "InheritFrom" );

      break;
   case is_InheritInherit:

      bufAppendS( "InheritInherit" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing InheritKeyword!\n" );
      exit( 1 );
   }
}

void shStaticClassOpt( StaticClassOpt p )
{
   switch( p->kind )
   {
   case is_OptStaticClassEmpty:

      bufAppendS( "OptStaticClassEmpty" );

      break;
   case is_OptStaticClassSome:

      bufAppendS( "OptStaticClassSome" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticClassOpt!\n" );
      exit( 1 );
   }
}

void shClassBody( ClassBody p )
{
   switch( p->kind )
   {
   case is_ClassBodyEmpty:

      bufAppendS( "ClassBodyEmpty" );

      break;
   case is_ClassBodyCons:
      bufAppendC( '(' );

      bufAppendS( "ClassBodyCons" );

      bufAppendC( ' ' );

      shClassMember( p->u.classBodyCons_.classmember_ );
      bufAppendC( ' ' );
      shClassBody( p->u.classBodyCons_.classbody_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ClassBody!\n" );
      exit( 1 );
   }
}

void shClassMember( ClassMember p )
{
   switch( p->kind )
   {
   case is_ClassMemberVisibility:
      bufAppendC( '(' );

      bufAppendS( "ClassMemberVisibility" );

      bufAppendC( ' ' );

      shVisibilityScope( p->u.classMemberVisibility_.visibilityscope_ );
      bufAppendC( ' ' );
      shIdent( p->u.classMemberVisibility_.lineeol_ );

      bufAppendC( ')' );

      break;
   case is_ClassMemberVar:
      bufAppendC( '(' );

      bufAppendS( "ClassMemberVar" );

      bufAppendC( ' ' );

      shVarList( p->u.classMemberVar_.varlist_ );
      bufAppendC( ' ' );
      shIdent( p->u.classMemberVar_.lineeol_ );

      bufAppendC( ')' );

      break;
   case is_ClassMemberMethod:
      bufAppendC( '(' );

      bufAppendS( "ClassMemberMethod" );

      bufAppendC( ' ' );

      shIdent( p->u.classMemberMethod_.ident_ );
      bufAppendC( ' ' );
      shMethodParamsOpt( p->u.classMemberMethod_.methodparamsopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.classMemberMethod_.lineeol_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ClassMember!\n" );
      exit( 1 );
   }
}

void shVisibilityScope( VisibilityScope p )
{
   switch( p->kind )
   {
   case is_VisibilityExported:

      bufAppendS( "VisibilityExported" );

      break;
   case is_VisibilityVisible:

      bufAppendS( "VisibilityVisible" );

      break;
   case is_VisibilityHidden:

      bufAppendS( "VisibilityHidden" );

      break;
   case is_VisibilityProtected:

      bufAppendS( "VisibilityProtected" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing VisibilityScope!\n" );
      exit( 1 );
   }
}

void shVarList( VarList p )
{
   switch( p->kind )
   {
   case is_VarListSingle:
      bufAppendC( '(' );

      bufAppendS( "VarListSingle" );

      bufAppendC( ' ' );

      shVarDecl( p->u.varListSingle_.vardecl_ );

      bufAppendC( ')' );

      break;
   case is_VarListCons:
      bufAppendC( '(' );

      bufAppendS( "VarListCons" );

      bufAppendC( ' ' );

      shVarDecl( p->u.varListCons_.vardecl_ );
      bufAppendC( ' ' );
      shVarList( p->u.varListCons_.varlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing VarList!\n" );
      exit( 1 );
   }
}

void shVarDecl( VarDecl p )
{
   switch( p->kind )
   {
   case is_VarDeclItem:
      bufAppendC( '(' );

      bufAppendS( "VarDeclItem" );

      bufAppendC( ' ' );

      shIdent( p->u.varDeclItem_.ident_ );
      bufAppendC( ' ' );
      shVarInitOpt( p->u.varDeclItem_.varinitopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing VarDecl!\n" );
      exit( 1 );
   }
}

void shVarInitOpt( VarInitOpt p )
{
   switch( p->kind )
   {
   case is_OptVarInitEmpty:

      bufAppendS( "OptVarInitEmpty" );

      break;
   case is_OptVarInitSome:
      bufAppendC( '(' );

      bufAppendS( "OptVarInitSome" );

      bufAppendC( ' ' );

      shExpr( p->u.optVarInitSome_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing VarInitOpt!\n" );
      exit( 1 );
   }
}

void shMethodParamsOpt( MethodParamsOpt p )
{
   switch( p->kind )
   {
   case is_MethodParamsEmpty:

      bufAppendS( "MethodParamsEmpty" );

      break;
   case is_MethodParamsSome:
      bufAppendC( '(' );

      bufAppendS( "MethodParamsSome" );

      bufAppendC( ' ' );

      shParamListOpt( p->u.methodParamsSome_.paramlistopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing MethodParamsOpt!\n" );
      exit( 1 );
   }
}

void shExpr( Expr p )
{
   switch( p->kind )
   {
   case is_ExprAssignBase:
      bufAppendC( '(' );

      bufAppendS( "ExprAssignBase" );

      bufAppendC( ' ' );

      shExprOr( p->u.exprAssignBase_.expror_ );

      bufAppendC( ')' );

      break;
   case is_ExprAndDot:
      bufAppendC( '(' );

      bufAppendS( "ExprAndDot" );

      bufAppendC( ' ' );

      shExpr( p->u.exprAndDot_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprAndDot_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprAndBase:
      bufAppendC( '(' );

      bufAppendS( "ExprAndBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprAndBase_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprNotDot:
      bufAppendC( '(' );

      bufAppendS( "ExprNotDot" );

      bufAppendC( ' ' );

      shExpr( p->u.exprNotDot_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprNotBase:
      bufAppendC( '(' );

      bufAppendS( "ExprNotBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprNotBase_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprEq:
      bufAppendC( '(' );

      bufAppendS( "ExprEq" );

      bufAppendC( ' ' );

      shExpr( p->u.exprEq_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprEq_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprEq2:
      bufAppendC( '(' );

      bufAppendS( "ExprEq2" );

      bufAppendC( ' ' );

      shExpr( p->u.exprEq2_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprEq2_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprNeq:
      bufAppendC( '(' );

      bufAppendS( "ExprNeq" );

      bufAppendC( ' ' );

      shExpr( p->u.exprNeq_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprNeq_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprNeq2:
      bufAppendC( '(' );

      bufAppendS( "ExprNeq2" );

      bufAppendC( ' ' );

      shExpr( p->u.exprNeq2_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprNeq2_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprNeq3:
      bufAppendC( '(' );

      bufAppendS( "ExprNeq3" );

      bufAppendC( ' ' );

      shExpr( p->u.exprNeq3_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprNeq3_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprLt:
      bufAppendC( '(' );

      bufAppendS( "ExprLt" );

      bufAppendC( ' ' );

      shExpr( p->u.exprLt_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprLt_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprLe:
      bufAppendC( '(' );

      bufAppendS( "ExprLe" );

      bufAppendC( ' ' );

      shExpr( p->u.exprLe_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprLe_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprGt:
      bufAppendC( '(' );

      bufAppendS( "ExprGt" );

      bufAppendC( ' ' );

      shExpr( p->u.exprGt_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprGt_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprGe:
      bufAppendC( '(' );

      bufAppendS( "ExprGe" );

      bufAppendC( ' ' );

      shExpr( p->u.exprGe_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprGe_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprSubStr:
      bufAppendC( '(' );

      bufAppendS( "ExprSubStr" );

      bufAppendC( ' ' );

      shExpr( p->u.exprSubStr_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprSubStr_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprRelBase:
      bufAppendC( '(' );

      bufAppendS( "ExprRelBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprRelBase_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprAdd:
      bufAppendC( '(' );

      bufAppendS( "ExprAdd" );

      bufAppendC( ' ' );

      shExpr( p->u.exprAdd_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprAdd_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprSub:
      bufAppendC( '(' );

      bufAppendS( "ExprSub" );

      bufAppendC( ' ' );

      shExpr( p->u.exprSub_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprSub_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprAddBase:
      bufAppendC( '(' );

      bufAppendS( "ExprAddBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprAddBase_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprMul:
      bufAppendC( '(' );

      bufAppendS( "ExprMul" );

      bufAppendC( ' ' );

      shExpr( p->u.exprMul_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprMul_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprDiv:
      bufAppendC( '(' );

      bufAppendS( "ExprDiv" );

      bufAppendC( ' ' );

      shExpr( p->u.exprDiv_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprDiv_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprMod:
      bufAppendC( '(' );

      bufAppendS( "ExprMod" );

      bufAppendC( ' ' );

      shExpr( p->u.exprMod_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprMod_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprMulBase:
      bufAppendC( '(' );

      bufAppendS( "ExprMulBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprMulBase_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprPow1:
      bufAppendC( '(' );

      bufAppendS( "ExprPow1" );

      bufAppendC( ' ' );

      shExpr( p->u.exprPow1_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprPow1_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprPow2:
      bufAppendC( '(' );

      bufAppendS( "ExprPow2" );

      bufAppendC( ' ' );

      shExpr( p->u.exprPow2_.expr_1 );
      bufAppendC( ' ' );
      shExpr( p->u.exprPow2_.expr_2 );

      bufAppendC( ')' );

      break;
   case is_ExprPowBase:
      bufAppendC( '(' );

      bufAppendS( "ExprPowBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprPowBase_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprAddrOf:
      bufAppendC( '(' );

      bufAppendS( "ExprAddrOf" );

      bufAppendC( ' ' );

      shLHS( p->u.exprAddrOf_.lhs_ );

      bufAppendC( ')' );

      break;
   case is_ExprDeref:
      bufAppendC( '(' );

      bufAppendS( "ExprDeref" );

      bufAppendC( ' ' );

      shExpr( p->u.exprDeref_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprDecPre:
      bufAppendC( '(' );

      bufAppendS( "ExprDecPre" );

      bufAppendC( ' ' );

      shExpr( p->u.exprDecPre_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprIncPre:
      bufAppendC( '(' );

      bufAppendS( "ExprIncPre" );

      bufAppendC( ' ' );

      shExpr( p->u.exprIncPre_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprPlus:
      bufAppendC( '(' );

      bufAppendS( "ExprPlus" );

      bufAppendC( ' ' );

      shExpr( p->u.exprPlus_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprMinus:
      bufAppendC( '(' );

      bufAppendS( "ExprMinus" );

      bufAppendC( ' ' );

      shExpr( p->u.exprMinus_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprSignBase:
      bufAppendC( '(' );

      bufAppendS( "ExprSignBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprSignBase_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprLit:
      bufAppendC( '(' );

      bufAppendS( "ExprLit" );

      bufAppendC( ' ' );

      shLiteral( p->u.exprLit_.literal_ );

      bufAppendC( ')' );

      break;
   case is_ExprCall:
      bufAppendC( '(' );

      bufAppendS( "ExprCall" );

      bufAppendC( ' ' );

      shCallExpr( p->u.exprCall_.callexpr_ );

      bufAppendC( ')' );

      break;
   case is_ExprQId:
      bufAppendC( '(' );

      bufAppendS( "ExprQId" );

      bufAppendC( ' ' );

      shQualifiedId( p->u.exprQId_.qualifiedid_ );

      bufAppendC( ')' );

      break;
   case is_ExprParen:
      bufAppendC( '(' );

      bufAppendS( "ExprParen" );

      bufAppendC( ' ' );

      shExpr( p->u.exprParen_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprIndex:
      bufAppendC( '(' );

      bufAppendS( "ExprIndex" );

      bufAppendC( ' ' );

      shExpr( p->u.exprIndex_.expr_ );
      bufAppendC( ' ' );
      shSubscriptList( p->u.exprIndex_.subscriptlist_ );

      bufAppendC( ')' );

      break;
   case is_ExprArray:
      bufAppendC( '(' );

      bufAppendS( "ExprArray" );

      bufAppendC( ' ' );

      shExprListOpt( p->u.exprArray_.exprlistopt_ );

      bufAppendC( ')' );

      break;
   case is_ExprBlock:
      bufAppendC( '(' );

      bufAppendS( "ExprBlock" );

      bufAppendC( ' ' );

      shParamListOpt( p->u.exprBlock_.paramlistopt_ );
      bufAppendC( ' ' );
      shExprListOpt( p->u.exprBlock_.exprlistopt_ );

      bufAppendC( ')' );

      break;
   case is_ExprMethodCall:
      bufAppendC( '(' );

      bufAppendS( "ExprMethodCall" );

      bufAppendC( ' ' );

      shExpr( p->u.exprMethodCall_.expr_ );
      bufAppendC( ' ' );
      shIdent( p->u.exprMethodCall_.ident_ );
      bufAppendC( ' ' );
      shArgListOpt( p->u.exprMethodCall_.arglistopt_ );

      bufAppendC( ')' );

      break;
   case is_ExprFieldAccess:
      bufAppendC( '(' );

      bufAppendS( "ExprFieldAccess" );

      bufAppendC( ' ' );

      shExpr( p->u.exprFieldAccess_.expr_ );
      bufAppendC( ' ' );
      shIdent( p->u.exprFieldAccess_.ident_ );

      bufAppendC( ')' );

      break;
   case is_ExprStructInitNamed:
      bufAppendC( '(' );

      bufAppendS( "ExprStructInitNamed" );

      bufAppendC( ' ' );

      shQualifiedId( p->u.exprStructInitNamed_.qualifiedid_ );
      bufAppendC( ' ' );
      shFieldInitList( p->u.exprStructInitNamed_.fieldinitlist_ );

      bufAppendC( ')' );

      break;
   case is_ExprStructAnon:
      bufAppendC( '(' );

      bufAppendS( "ExprStructAnon" );

      bufAppendC( ' ' );

      shFieldInitList( p->u.exprStructAnon_.fieldinitlist_ );

      bufAppendC( ')' );

      break;
   case is_ExprDecPost:
      bufAppendC( '(' );

      bufAppendS( "ExprDecPost" );

      bufAppendC( ' ' );

      shExpr( p->u.exprDecPost_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprIncPost:
      bufAppendC( '(' );

      bufAppendS( "ExprIncPost" );

      bufAppendC( ' ' );

      shExpr( p->u.exprIncPost_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing Expr!\n" );
      exit( 1 );
   }
}

void shExprOr( ExprOr p )
{
   switch( p->kind )
   {
   case is_ExprOrDot:
      bufAppendC( '(' );

      bufAppendS( "ExprOrDot" );

      bufAppendC( ' ' );

      shExprOr( p->u.exprOrDot_.expror_ );
      bufAppendC( ' ' );
      shExpr( p->u.exprOrDot_.expr_ );

      bufAppendC( ')' );

      break;
   case is_ExprOrBase:
      bufAppendC( '(' );

      bufAppendS( "ExprOrBase" );

      bufAppendC( ' ' );

      shExpr( p->u.exprOrBase_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ExprOr!\n" );
      exit( 1 );
   }
}

void shCallExpr( CallExpr p )
{
   switch( p->kind )
   {
   case is_CallExprMain:
      bufAppendC( '(' );

      bufAppendS( "CallExprMain" );

      bufAppendC( ' ' );

      shQualifiedId( p->u.callExprMain_.qualifiedid_ );
      bufAppendC( ' ' );
      shArgListOpt( p->u.callExprMain_.arglistopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing CallExpr!\n" );
      exit( 1 );
   }
}

void shArgListOpt( ArgListOpt p )
{
   switch( p->kind )
   {
   case is_OptArgListEmpty:

      bufAppendS( "OptArgListEmpty" );

      break;
   case is_OptArgListSome:
      bufAppendC( '(' );

      bufAppendS( "OptArgListSome" );

      bufAppendC( ' ' );

      shExpr( p->u.optArgListSome_.expr_ );
      bufAppendC( ' ' );
      shArgListTail( p->u.optArgListSome_.arglisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ArgListOpt!\n" );
      exit( 1 );
   }
}

void shArgListTail( ArgListTail p )
{
   switch( p->kind )
   {
   case is_ListArgTailEmpty:

      bufAppendS( "ListArgTailEmpty" );

      break;
   case is_ListArgTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListArgTailCons" );

      bufAppendC( ' ' );

      shExpr( p->u.listArgTailCons_.expr_ );
      bufAppendC( ' ' );
      shArgListTail( p->u.listArgTailCons_.arglisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ArgListTail!\n" );
      exit( 1 );
   }
}

void shExprListOpt( ExprListOpt p )
{
   switch( p->kind )
   {
   case is_OptExprListEmpty:

      bufAppendS( "OptExprListEmpty" );

      break;
   case is_OptExprListSome:
      bufAppendC( '(' );

      bufAppendS( "OptExprListSome" );

      bufAppendC( ' ' );

      shExpr( p->u.optExprListSome_.expr_ );
      bufAppendC( ' ' );
      shExprListTail( p->u.optExprListSome_.exprlisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ExprListOpt!\n" );
      exit( 1 );
   }
}

void shExprListTail( ExprListTail p )
{
   switch( p->kind )
   {
   case is_ListExprTailEmpty:

      bufAppendS( "ListExprTailEmpty" );

      break;
   case is_ListExprTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListExprTailCons" );

      bufAppendC( ' ' );

      shExpr( p->u.listExprTailCons_.expr_ );
      bufAppendC( ' ' );
      shExprListTail( p->u.listExprTailCons_.exprlisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ExprListTail!\n" );
      exit( 1 );
   }
}

void shQualifiedId( QualifiedId p )
{
   switch( p->kind )
   {
   case is_QualifiedIdSingle:
      bufAppendC( '(' );

      bufAppendS( "QualifiedIdSingle" );

      bufAppendC( ' ' );

      shIdent( p->u.qualifiedIdSingle_.ident_ );

      bufAppendC( ')' );

      break;
   case is_QualifiedIdMore:
      bufAppendC( '(' );

      bufAppendS( "QualifiedIdMore" );

      bufAppendC( ' ' );

      shIdent( p->u.qualifiedIdMore_.ident_ );
      bufAppendC( ' ' );
      shQualifiedId( p->u.qualifiedIdMore_.qualifiedid_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing QualifiedId!\n" );
      exit( 1 );
   }
}

void shLHS( LHS p )
{
   switch( p->kind )
   {
   case is_LHSVal:
      bufAppendC( '(' );

      bufAppendS( "LHSVal" );

      bufAppendC( ' ' );

      shLValue( p->u.lHSVal_.lvalue_ );

      bufAppendC( ')' );

      break;
   case is_LHSDeref:
      bufAppendC( '(' );

      bufAppendS( "LHSDeref" );

      bufAppendC( ' ' );

      shExpr( p->u.lHSDeref_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing LHS!\n" );
      exit( 1 );
   }
}

void shLValue( LValue p )
{
   switch( p->kind )
   {
   case is_LValQId:
      bufAppendC( '(' );

      bufAppendS( "LValQId" );

      bufAppendC( ' ' );

      shQualifiedId( p->u.lValQId_.qualifiedid_ );

      bufAppendC( ')' );

      break;
   case is_LValField:
      bufAppendC( '(' );

      bufAppendS( "LValField" );

      bufAppendC( ' ' );

      shLValue( p->u.lValField_.lvalue_ );
      bufAppendC( ' ' );
      shIdent( p->u.lValField_.ident_ );

      bufAppendC( ')' );

      break;
   case is_LValIndex:
      bufAppendC( '(' );

      bufAppendS( "LValIndex" );

      bufAppendC( ' ' );

      shLValue( p->u.lValIndex_.lvalue_ );
      bufAppendC( ' ' );
      shSubscriptList( p->u.lValIndex_.subscriptlist_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing LValue!\n" );
      exit( 1 );
   }
}

void shSubscriptList( SubscriptList p )
{
   switch( p->kind )
   {
   case is_SubscriptListSingle:
      bufAppendC( '(' );

      bufAppendS( "SubscriptListSingle" );

      bufAppendC( ' ' );

      shExpr( p->u.subscriptListSingle_.expr_ );
      bufAppendC( ' ' );
      shSubscriptListTail( p->u.subscriptListSingle_.subscriptlisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing SubscriptList!\n" );
      exit( 1 );
   }
}

void shSubscriptListTail( SubscriptListTail p )
{
   switch( p->kind )
   {
   case is_ListSubscriptTailEmpty:

      bufAppendS( "ListSubscriptTailEmpty" );

      break;
   case is_ListSubscriptTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListSubscriptTailCons" );

      bufAppendC( ' ' );

      shExpr( p->u.listSubscriptTailCons_.expr_ );
      bufAppendC( ' ' );
      shSubscriptListTail( p->u.listSubscriptTailCons_.subscriptlisttail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing SubscriptListTail!\n" );
      exit( 1 );
   }
}

void shLiteral( Literal p )
{
   switch( p->kind )
   {
   case is_LitNil:

      bufAppendS( "LitNil" );

      break;
   case is_LitTrueDot:

      bufAppendS( "LitTrueDot" );

      break;
   case is_LitFalseDot:

      bufAppendS( "LitFalseDot" );

      break;
   case is_LitInt:
      bufAppendC( '(' );

      bufAppendS( "LitInt" );

      bufAppendC( ' ' );

      shIdent( p->u.litInt_.intlit_ );

      bufAppendC( ')' );

      break;
   case is_LitFloat:
      bufAppendC( '(' );

      bufAppendS( "LitFloat" );

      bufAppendC( ' ' );

      shIdent( p->u.litFloat_.floatlit_ );

      bufAppendC( ')' );

      break;
   case is_LitStr:
      bufAppendC( '(' );

      bufAppendS( "LitStr" );

      bufAppendC( ' ' );

      shNapis( p->u.litStr_.napis_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing Literal!\n" );
      exit( 1 );
   }
}

void shNapis( Napis p )
{
   switch( p->kind )
   {
   case is_NapisStr:
      bufAppendC( '(' );

      bufAppendS( "NapisStr" );

      bufAppendC( ' ' );

      shIdent( p->u.napisStr_.strlit_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing Napis!\n" );
      exit( 1 );
   }
}

void shDef( Def p )
{
   switch( p->kind )
   {
   case is_DefFun:
      bufAppendC( '(' );

      bufAppendS( "DefFun" );

      bufAppendC( ' ' );

      shFunctionDef( p->u.defFun_.functiondef_ );

      bufAppendC( ')' );

      break;
   case is_DefProc:
      bufAppendC( '(' );

      bufAppendS( "DefProc" );

      bufAppendC( ' ' );

      shProcedureDef( p->u.defProc_.proceduredef_ );

      bufAppendC( ')' );

      break;
   case is_DefMeth:
      bufAppendC( '(' );

      bufAppendS( "DefMeth" );

      bufAppendC( ' ' );

      shMethodDef( p->u.defMeth_.methoddef_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing Def!\n" );
      exit( 1 );
   }
}

void shFunctionDef( FunctionDef p )
{
   switch( p->kind )
   {
   case is_FunctionDefMain:
      bufAppendC( '(' );

      bufAppendS( "FunctionDefMain" );

      bufAppendC( ' ' );

      shStaticOpt( p->u.functionDefMain_.staticopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.functionDefMain_.ident_ );
      bufAppendC( ' ' );
      shParamListOpt( p->u.functionDefMain_.paramlistopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.functionDefMain_.lineeol_ );
      bufAppendC( ' ' );
      shLocalDeclsOpt( p->u.functionDefMain_.localdeclsopt_ );
      bufAppendC( ' ' );
      shStaticDeclsOpt( p->u.functionDefMain_.staticdeclsopt_ );
      bufAppendC( ' ' );
      shStmtListNonEmpty( p->u.functionDefMain_.stmtlistnonempty_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing FunctionDef!\n" );
      exit( 1 );
   }
}

void shProcedureDef( ProcedureDef p )
{
   switch( p->kind )
   {
   case is_ProcedureDefMain:
      bufAppendC( '(' );

      bufAppendS( "ProcedureDefMain" );

      bufAppendC( ' ' );

      shStaticOpt( p->u.procedureDefMain_.staticopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.procedureDefMain_.ident_ );
      bufAppendC( ' ' );
      shParamListOpt( p->u.procedureDefMain_.paramlistopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.procedureDefMain_.lineeol_ );
      bufAppendC( ' ' );
      shLocalDeclsOpt( p->u.procedureDefMain_.localdeclsopt_ );
      bufAppendC( ' ' );
      shStaticDeclsOpt( p->u.procedureDefMain_.staticdeclsopt_ );
      bufAppendC( ' ' );
      shStmtListNonEmpty( p->u.procedureDefMain_.stmtlistnonempty_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing ProcedureDef!\n" );
      exit( 1 );
   }
}

void shStaticOpt( StaticOpt p )
{
   switch( p->kind )
   {
   case is_OptStaticEmpty:

      bufAppendS( "OptStaticEmpty" );

      break;
   case is_OptStaticSome:

      bufAppendS( "OptStaticSome" );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticOpt!\n" );
      exit( 1 );
   }
}

void shLocalDeclsOpt( LocalDeclsOpt p )
{
   switch( p->kind )
   {
   case is_ListLocalDeclEmpty:

      bufAppendS( "ListLocalDeclEmpty" );

      break;
   case is_ListLocalDeclLine:
      bufAppendC( '(' );

      bufAppendS( "ListLocalDeclLine" );

      bufAppendC( ' ' );

      shIdent( p->u.listLocalDeclLine_.lineeol_ );
      bufAppendC( ' ' );
      shLocalDeclsOpt( p->u.listLocalDeclLine_.localdeclsopt_ );

      bufAppendC( ')' );

      break;
   case is_ListLocalDeclCons:
      bufAppendC( '(' );

      bufAppendS( "ListLocalDeclCons" );

      bufAppendC( ' ' );

      shLocalDecl( p->u.listLocalDeclCons_.localdecl_ );
      bufAppendC( ' ' );
      shLocalDeclsOpt( p->u.listLocalDeclCons_.localdeclsopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing LocalDeclsOpt!\n" );
      exit( 1 );
   }
}

void shLocalDecl( LocalDecl p )
{
   switch( p->kind )
   {
   case is_LocalDeclItem:
      bufAppendC( '(' );

      bufAppendS( "LocalDeclItem" );

      bufAppendC( ' ' );

      shIdentInitList( p->u.localDeclItem_.identinitlist_ );
      bufAppendC( ' ' );
      shStmtEnd( p->u.localDeclItem_.stmtend_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing LocalDecl!\n" );
      exit( 1 );
   }
}

void shStaticDeclsOpt( StaticDeclsOpt p )
{
   switch( p->kind )
   {
   case is_ListStaticDeclEmpty:

      bufAppendS( "ListStaticDeclEmpty" );

      break;
   case is_ListStaticDeclCons:
      bufAppendC( '(' );

      bufAppendS( "ListStaticDeclCons" );

      bufAppendC( ' ' );

      shStaticDecl( p->u.listStaticDeclCons_.staticdecl_ );
      bufAppendC( ' ' );
      shStaticDeclsOpt( p->u.listStaticDeclCons_.staticdeclsopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticDeclsOpt!\n" );
      exit( 1 );
   }
}

void shStaticItemList( StaticItemList p )
{
   switch( p->kind )
   {
   case is_StaticItemListSingle:
      bufAppendC( '(' );

      bufAppendS( "StaticItemListSingle" );

      bufAppendC( ' ' );

      shStaticItem( p->u.staticItemListSingle_.staticitem_ );
      bufAppendC( ' ' );
      shStaticItemTail( p->u.staticItemListSingle_.staticitemtail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticItemList!\n" );
      exit( 1 );
   }
}

void shStaticItemTail( StaticItemTail p )
{
   switch( p->kind )
   {
   case is_StaticItemTailEmpty:

      bufAppendS( "StaticItemTailEmpty" );

      break;
   case is_StaticItemTailCons:
      bufAppendC( '(' );

      bufAppendS( "StaticItemTailCons" );

      bufAppendC( ' ' );

      shStaticItem( p->u.staticItemTailCons_.staticitem_ );
      bufAppendC( ' ' );
      shStaticItemTail( p->u.staticItemTailCons_.staticitemtail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticItemTail!\n" );
      exit( 1 );
   }
}

void shStaticItem( StaticItem p )
{
   switch( p->kind )
   {
   case is_StaticItemMain:
      bufAppendC( '(' );

      bufAppendS( "StaticItemMain" );

      bufAppendC( ' ' );

      shIdent( p->u.staticItemMain_.ident_ );
      bufAppendC( ' ' );
      shStaticArrayDimsOpt( p->u.staticItemMain_.staticarraydimsopt_ );
      bufAppendC( ' ' );
      shStaticInitOpt( p->u.staticItemMain_.staticinitopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticItem!\n" );
      exit( 1 );
   }
}

void shStaticArrayDimsOpt( StaticArrayDimsOpt p )
{
   switch( p->kind )
   {
   case is_StaticArrayDimsEmpty:

      bufAppendS( "StaticArrayDimsEmpty" );

      break;
   case is_StaticArrayDimsCons:
      bufAppendC( '(' );

      bufAppendS( "StaticArrayDimsCons" );

      bufAppendC( ' ' );

      shSubscriptList( p->u.staticArrayDimsCons_.subscriptlist_ );
      bufAppendC( ' ' );
      shStaticArrayDimsOpt( p->u.staticArrayDimsCons_.staticarraydimsopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticArrayDimsOpt!\n" );
      exit( 1 );
   }
}

void shStaticInitOpt( StaticInitOpt p )
{
   switch( p->kind )
   {
   case is_StaticInitEmpty:

      bufAppendS( "StaticInitEmpty" );

      break;
   case is_StaticInitSome:
      bufAppendC( '(' );

      bufAppendS( "StaticInitSome" );

      bufAppendC( ' ' );

      shExpr( p->u.staticInitSome_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing StaticInitOpt!\n" );
      exit( 1 );
   }
}

void shIdentInitList( IdentInitList p )
{
   switch( p->kind )
   {
   case is_ListIdentInitSingle:
      bufAppendC( '(' );

      bufAppendS( "ListIdentInitSingle" );

      bufAppendC( ' ' );

      shIdentInit( p->u.listIdentInitSingle_.identinit_ );
      bufAppendC( ' ' );
      shIdentInitTail( p->u.listIdentInitSingle_.identinittail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing IdentInitList!\n" );
      exit( 1 );
   }
}

void shIdentInitTail( IdentInitTail p )
{
   switch( p->kind )
   {
   case is_ListIdentInitTailEmpty:

      bufAppendS( "ListIdentInitTailEmpty" );

      break;
   case is_ListIdentInitTailCons:
      bufAppendC( '(' );

      bufAppendS( "ListIdentInitTailCons" );

      bufAppendC( ' ' );

      shIdentInit( p->u.listIdentInitTailCons_.identinit_ );
      bufAppendC( ' ' );
      shIdentInitTail( p->u.listIdentInitTailCons_.identinittail_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing IdentInitTail!\n" );
      exit( 1 );
   }
}

void shIdentInit( IdentInit p )
{
   switch( p->kind )
   {
   case is_IdentInitItem:
      bufAppendC( '(' );

      bufAppendS( "IdentInitItem" );

      bufAppendC( ' ' );

      shIdent( p->u.identInitItem_.ident_ );
      bufAppendC( ' ' );
      shInitOpt( p->u.identInitItem_.initopt_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing IdentInit!\n" );
      exit( 1 );
   }
}

void shInitOpt( InitOpt p )
{
   switch( p->kind )
   {
   case is_OptInitEmpty:

      bufAppendS( "OptInitEmpty" );

      break;
   case is_OptInitSome:
      bufAppendC( '(' );

      bufAppendS( "OptInitSome" );

      bufAppendC( ' ' );

      shExpr( p->u.optInitSome_.expr_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing InitOpt!\n" );
      exit( 1 );
   }
}

void shMethodDef( MethodDef p )
{
   switch( p->kind )
   {
   case is_MethodDefMain:
      bufAppendC( '(' );

      bufAppendS( "MethodDefMain" );

      bufAppendC( ' ' );

      shStaticOpt( p->u.methodDefMain_.staticopt_ );
      bufAppendC( ' ' );
      shIdent( p->u.methodDefMain_.ident_ );
      bufAppendC( ' ' );
      shParamListOpt( p->u.methodDefMain_.paramlistopt_ );
      bufAppendC( ' ' );
      shClassName( p->u.methodDefMain_.classname_ );
      bufAppendC( ' ' );
      shIdent( p->u.methodDefMain_.lineeol_ );
      bufAppendC( ' ' );
      shLocalDeclsOpt( p->u.methodDefMain_.localdeclsopt_ );
      bufAppendC( ' ' );
      shStaticDeclsOpt( p->u.methodDefMain_.staticdeclsopt_ );
      bufAppendC( ' ' );
      shStmtListNonEmpty( p->u.methodDefMain_.stmtlistnonempty_ );

      bufAppendC( ')' );

      break;

   default:
      fprintf( stderr, "Error: bad kind field when showing MethodDef!\n" );
      exit( 1 );
   }
}

void shInteger( Integer i )
{
   char tmp[ 20 ];
   sprintf( tmp, "%d", i );
   bufAppendS( tmp );
}
void shDouble( Double d )
{
   char tmp[ 24 ];
   sprintf( tmp, "%.15g", d );
   bufAppendS( tmp );
}
void shChar( Char c )
{
   bufAppendC( '\'' );
   bufEscapeC( c );
   bufAppendC( '\'' );
}
void shString( String s )
{
   bufAppendC( '\"' );
   bufEscapeS( s );
   bufAppendC( '\"' );
}
void shIdent( String s )
{
   bufAppendC( '\"' );
   bufAppendS( s );
   bufAppendC( '\"' );
}

void shIntLit( String s )
{
   bufAppendC( '\"' );
   bufEscapeS( s );
   bufAppendC( '\"' );
}

void shFloatLit( String s )
{
   bufAppendC( '\"' );
   bufEscapeS( s );
   bufAppendC( '\"' );
}

void shStrLit( String s )
{
   bufAppendC( '\"' );
   bufEscapeS( s );
   bufAppendC( '\"' );
}

void shPreprocLine( String s )
{
   bufAppendC( '\"' );
   bufEscapeS( s );
   bufAppendC( '\"' );
}

void shLineEol( String s )
{
   bufAppendC( '\"' );
   bufEscapeS( s );
   bufAppendC( '\"' );
}

void bufEscapeS( const char *s )
{
   if( s )
      while( *s )
         bufEscapeC( *s++ );
}
void bufEscapeC( const char c )
{
   switch( c )
   {
   case '\f':
      bufAppendS( "\\f" );
      break;
   case '\n':
      bufAppendS( "\\n" );
      break;
   case '\r':
      bufAppendS( "\\r" );
      break;
   case '\t':
      bufAppendS( "\\t" );
      break;
   case '\v':
      bufAppendS( "\\v" );
      break;
   case '\\':
      bufAppendS( "\\\\" );
      break;
   case '\'':
      bufAppendS( "\\'" );
      break;
   case '\"':
      bufAppendS( "\\\"" );
      break;
   default:
      bufAppendC( c );
   }
}

void bufAppendS( const char *s )
{
   size_t len = strlen( s );
   size_t n;
   while( cur_ + len >= buf_size )
   {
      buf_size *= 2; /* Double the buffer size */
      resizeBuffer();
   }
   for( n = 0; n < len; n++ )
   {
      buf_[ cur_ + n ] = s[ n ];
   }
   cur_ += len;
   buf_[ cur_ ] = 0;
}
void bufAppendC( const char c )
{
   if( cur_ + 1 >= buf_size )
   {
      buf_size *= 2; /* Double the buffer size */
      resizeBuffer();
   }
   buf_[ cur_ ] = c;
   cur_++;
   buf_[ cur_ ] = 0;
}
void bufReset( void )
{
   cur_     = 0;
   buf_size = BUFFER_INITIAL;
   resizeBuffer();
   memset( buf_, 0, buf_size );
}
void resizeBuffer( void )
{
   char *temp = ( char * ) malloc( buf_size );
   if( !temp )
   {
      fprintf( stderr, "Error: Out of memory while attempting to grow buffer!\n" );
      exit( 1 );
   }
   if( buf_ )
   {
      strncpy( temp, buf_, buf_size ); /* peteg: strlcpy is safer, but not POSIX/ISO C. */
      free( buf_ );
   }
   buf_ = temp;
}
char  *buf_;
size_t cur_, buf_size;
